webpackJsonp([72],{DSXt:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("fAdw"),i=s("RUzx"),n=s.n(i),l=s("KVzY"),o=s("7+uW"),c=s("4WGu");o.default.use(l.default);var r={components:{Multiselect:n.a},data:function(){return{subjects:"",uuid:"",listFiles:[],pageData:{currentPage:1,totalPages:0,totalItems:0,perPage:10,sortBy:"id",sortDesc:!1},domainDownload:c.a.domainDownloadFile,loadingExcel:!1,loadingExcelHtml:'\n      <div class="sk-folding-cube sk-primary">\n        <div class="sk-cube1 sk-cube"></div>\n        <div class="sk-cube2 sk-cube"></div>\n        <div class="sk-cube4 sk-cube"></div>\n        <div class="sk-cube3 sk-cube"></div>\n      </div>\n      <h5 class="text-center mb-0">LOADING...</h5>\n    '}},computed:{showResult:function(){return this.listFiles.length>0}},methods:{resetForm:function(){this.subjects="",this.uuid=""},searchFileDownload:function(t,a){var s=this,i={subjects:s.subjects,uuid:s.uuid,page:t,limit:s.pageData.perPage};a&&(this.pageData.currentPage=1,i.page=1),s.loadingExcel=!0,e.a.fileDownloadInfo(i).then(function(t){t.data.success&&(s.listFiles=t.data.data,s.pageData.totalItems=t.data.options.total,s.pageData.totalPages=t.data.options.total_page)}).catch(function(t){}).then(function(){s.loadingExcel=!1,s.resetForm()})},pageChanged:function(t){this.searchFileDownload(t),this.pageData.currentPage=t}},created:function(){this.searchFileDownload(this.pageData.currentPage)}},d=s("XyMi");var u=function(t){s("Obhi")},p=Object(d.a)(r,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t._m(0),t._v(" "),s("form",[s("b-form-row",[s("div",{staticClass:"col-md-12"},[s("b-form-group",{attrs:{horizontal:"","label-cols":1,label:"Người tạo","label-for":"input_subjects"}},[s("b-form-input",{attrs:{type:"text",id:"input_subjects",placeholder:"Nhiều người tạo cách nhau bằng dấu phẩy. Ví dụ: amdmin,user1..."},model:{value:t.subjects,callback:function(a){t.subjects=a},expression:"subjects"}})],1)],1)]),t._v(" "),s("b-form-row",[s("div",{staticClass:"col-md-12"},[s("b-form-group",{attrs:{horizontal:"","label-cols":1,label:"Tên File","label-for":"input_uuid"}},[s("b-form-input",{attrs:{type:"text",id:"input_uuid",placeholder:"Nhiều tên file cách nhau bằng dấu phẩy. Ví dụ: file1,file2..."},model:{value:t.uuid,callback:function(a){t.uuid=a},expression:"uuid"}})],1)],1)]),t._v(" "),s("b-form-row",[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"align-content-center text-center"},[s("b-btn",{attrs:{type:"button"},on:{click:t.resetForm}},[t._v("\n                        Nhập lại\n                    ")]),t._v(" "),s("b-btn",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){return t.searchFileDownload(t.pageData.currentPage,!0)}}},[s("i",{staticClass:"sidenav-icon ion ion-md-search"}),t._v("\n                        Tìm kiếm\n                    ")])],1)])])],1),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"result",attrs:{id:"results"}},[t.showResult?s("b-card",{attrs:{"no-body":""}},[s("div",{staticClass:"table-result"},[s("div",{staticClass:"table-responsive mb-4"},[s("table",{staticClass:"table mb-0 table-bordered"},[s("thead",{staticStyle:{width:"100%"}},[s("tr",[s("th",{attrs:{width:"30%"}},[t._v("File")]),t._v(" "),s("th",{attrs:{width:"50%"}},[t._v("Điều kiện xuất file")]),t._v(" "),s("th",{attrs:{width:"10%"}},[t._v("Trạng thái")]),t._v(" "),s("th",{attrs:{width:"10%"}},[t._v("Link")])])]),t._v(" "),s("tbody",t._l(t.listFiles,function(a,e){return s("tr",{key:e},[s("td",{attrs:{scope:"row","data-file-id":a.id}},[s("span",[t._v("ID: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.id))]),s("br"),t._v(" "),s("span",[t._v("Thời gian: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.created))]),s("br"),t._v(" "),s("span",[t._v("Người tạo: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.subject))]),s("br"),t._v(" "),s("span",[t._v("File: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.uuid))]),s("br"),t._v(" "),s("span",[t._v("Loại file: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.type))]),s("br")]),t._v(" "),s("td",[s("span",[t._v("Từ: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.options.timefrom))]),s("br"),t._v(" "),s("span",[t._v("Đến: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.options.timeto))]),s("br"),t._v(" "),s("span",[t._v("Mã đơn hàng: ")]),t._l(a.options.pkgAlias,function(a){return s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a)+", ")])}),s("br"),t._v(" "),s("span",[t._v("Người upload: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.options.uploadUsername))]),s("br"),t._v(" "),s("span",[t._v("Trạng thái đơn: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.options.pkgStatus))]),s("br")],2),t._v(" "),s("td",[s("span",[t._v(t._s(a.status))]),s("br"),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.process))])]),t._v(" "),s("td",[s("b-link",{class:{disabled:"none"===a.status||"process"===a.status},attrs:{target:"_blank",href:t.domainDownload+a.filepath}},[t._v("\n                                    Download Link\n                                ")])],1)])}),0)])])]),t._v(" "),s("b-card-body",{staticClass:"pt-0 pb-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm pt-3"},[s("b-pagination",{attrs:{"total-rows":t.pageData.totalItems,"per-page":t.pageData.perPage},on:{change:t.pageChanged},model:{value:t.pageData.currentPage,callback:function(a){t.$set(t.pageData,"currentPage",a)},expression:"pageData.currentPage"}})],1),t._v(" "),s("div",{staticClass:"col-sm text-sm-left text-center pt-3"},[t.pageData.totalItems?s("span",{staticClass:"text-muted"},[t._v("Trang "+t._s(t.pageData.currentPage)+" trên "+t._s(t.pageData.totalPages))]):t._e()])])])],1):t._e(),t._v(" "),t.showResult?t._e():s("div",{staticClass:"no-data"},[s("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(" Không có dữ liệu phù hợp, vui lòng thử lại với điều kiện tìm kiếm khác!")])],1),t._v(" "),t.loadingExcel?s("BlockUI",{attrs:{message:"Dữ liệu đang được xử lý, vui lòng đợi!",html:t.loadingExcelHtml}}):t._e()],1)])},[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ui-block"},[a("h4",{staticClass:"ui-block-heading text-center"},[this._v("Quản lý download")])])}],!1,u,"data-v-1a048e1e",null);a.default=p.exports},Obhi:function(t,a){}});