webpackJsonp([26],{"5WRt":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("qkSh"),o=e("qaB4"),i={name:"modal-evaluation-note",components:{evaluationService:n.a},props:["evaluation","typeNote"],data:function(){return{currNote:"",listNotes:[]}},created:function(){},watch:{},methods:{addNote:function(){var t=this,a={user_id:this.evaluation.user_id,note:this.currNote,from:this.evaluation.start_date,to:this.evaluation.end_date,type:this.typeNote};n.a.addNote(a).then(function(a){a.data.hasOwnProperty("success")||t.$notify({group:"default",type:"text-white bg-warning",text:a.data}),a.data.success?(t.listNotes=a.data.data,t.$notify({group:"default",type:"text-white bg-primary",text:a.data.message}),t.getListEvaluationNotes(),t.currNote=""):(t.$notify({group:"default",type:"text-white bg-warning",text:a.data.message}),t.currNote="")}).catch(function(t){console.log(t)})},getListEvaluationNotes:function(){var t=this,a={id:this.evaluation.user_id,from:this.evaluation.start_date,to:this.evaluation.end_date,type:this.typeNote};n.a.getListEvaluationNotes(a).then(function(a){a.data.success&&(t.listNotes=a.data.data)}).catch(function(t){console.log(t)})}}},s=e("XyMi");var l=function(t){e("OEkN"),e("ZLPy")},r=Object(s.a)(i,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("b-modal",{ref:"myModalRef",attrs:{id:"modal-evaluation-note",size:"lg","hide-footer":"",static:""},on:{show:t.getListEvaluationNotes}},[e("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v("\n            Danh sách ghi chú\n        ")]),t._v(" "),void 0!==t.listNotes&&t.listNotes.length>0?e("div",t._l(t.listNotes,function(a){return e("div",{staticClass:"container-note"},[e("div",[e("span",{staticClass:"person-note"},[t._v(t._s(a.User.fullname)+" - "+t._s(a.po.position_name)+" - "+t._s(a.ErpSgwEmpEvaluationNote.created))])]),t._v(" "),e("span",{staticClass:"note-content"},[t._v(t._s(a.ErpSgwEmpEvaluationNote.note))])])}),0):e("div",[e("span",[t._v("Nhân viên hiện không có ghi chú nào trong kì đánh giá. Thêm ghi chú bên dưới")])]),t._v(" "),e("div",{staticClass:"position-relative"},[e("b-form-input",{staticClass:"only-bottom-border",staticStyle:{"max-width":"750px","padding-right":"35px"},attrs:{placeholder:"Thêm ghi chú"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.addNote(a)}},model:{value:t.currNote,callback:function(a){t.currNote=a},expression:"currNote"}}),t._v(" "),e("b-btn",{staticStyle:{position:"absolute",top:"8px",right:"0px",border:"none",background:"rgba(0,0,0,0)",padding:"0"},on:{click:function(a){return t.addNote()}}},[e("i",{staticClass:"icon ion-ios-send text-primary",staticStyle:{"font-size":"20px"},attrs:{"font-size:":""}})])],1)])],1)},[],!1,l,"data-v-57b57229",null).exports,c=e("Dd8w"),d=e.n(c),u=e("VvlD"),v={name:"modal-edit-evaluation",components:{evaluationService:n.a},props:["evaluation","isManagement"],data:function(){return{optionEvaluation:[{value:"1",text:"Cần cải thiện"},{value:"2",text:"Bình thường"},{value:"3",text:"Đáng khen ngợi"},{value:"4",text:"Quá tuyệt vời"}],standardEvaluation:{id:"",honest:"",responsibility:"",disciplinary:"",effective:"",core_values:"",resolve_problem:"",creation:"",descrip:"",user_id:"",start_date:"",end_date:""}}},created:function(){this.setOldData()},watch:{},methods:{hideModal:function(){this.$refs.myModalEdit.hide()},editEvaluation:function(){var t=this,a={id:this.standardEvaluation.id,honest:this.standardEvaluation.honest,responsibility:this.standardEvaluation.responsibility,disciplinary:this.standardEvaluation.disciplinary,effective:this.standardEvaluation.effective,core_values:this.standardEvaluation.core_values,resolve_problem:this.standardEvaluation.resolve_problem,creation:this.standardEvaluation.creation,work_assign:this.standardEvaluation.work_assign,evaluate_control:this.standardEvaluation.evaluate_control,train_develop:this.standardEvaluation.train_develop,build_collectivity:this.standardEvaluation.build_collectivity,descrip:this.standardEvaluation.descrip,user_id:this.standardEvaluation.user_id,start_date:this.standardEvaluation.start_date,end_date:this.standardEvaluation.end_date};n.a.addEvaluation(a).then(function(a){a.data.success?(t.$notify({group:"default",type:"text-white bg-primary",text:a.data.message}),t.updateEvaluation(a.data.data),t.hideModal()):t.$notify({group:"default",type:"text-white bg-warning",title:"Xảy ra lỗi",text:a.data.message})}).catch(function(t){console.log(t)}).then(function(){t.appLoading=!1})},setOldData:function(){var t=new Date,a=new Date("2019-11-21"),e=new Date("2019-12-20"),n=this.evaluation?this.evaluation:{};this.standardEvaluation=d()({},this.standardEvaluation,{id:n.id?n.id:null,honest:n.honest?n.honest:"2",responsibility:n.responsibility?n.responsibility:"2",disciplinary:n.disciplinary?n.disciplinary:"2",effective:n.effective?n.effective:"2",core_values:n.core_values?n.core_values:"2",resolve_problem:n.resolve_problem?n.resolve_problem:"2",creation:n.creation?n.creation:"2",descrip:n.descrip?n.descrip:"",user_id:n.user_id?n.user_id:this.$route.params.id}),1===this.isManagement&&(this.standardEvaluation.work_assign=n.work_assign?n.work_assign:"2",this.standardEvaluation.evaluate_control=n.evaluate_control?n.evaluate_control:"2",this.standardEvaluation.train_develop=n.train_develop?n.train_develop:"2",this.standardEvaluation.build_collectivity=n.build_collectivity?n.build_collectivity:"2"),t>a&&t<e?(this.standardEvaluation.start_date=null!=this.evaluation?this.evaluation.start_date:u.a.daysInThisMonth(21,20).from,this.standardEvaluation.end_date=null!=this.evaluation?this.evaluation.end_date:u.a.daysInThisMonth(21,20).to):(this.standardEvaluation.start_date=null!=this.evaluation?this.evaluation.start_date:u.a.daysInCycleEvaluation().from,this.standardEvaluation.end_date=null!=this.evaluation?this.evaluation.end_date:u.a.daysInCycleEvaluation().to)},updateEvaluation:function(){this.$emit("update-evaluation")}}};var p=function(t){e("OEkN"),e("sPVA")},_=Object(s.a)(v,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("b-modal",{ref:"myModalEdit",attrs:{id:"modal-edit-evaluation","hide-footer":"",static:""},on:{show:t.setOldData}},[e("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v("\n            Chỉnh sửa đánh giá\n        ")]),t._v(" "),e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"mb-1 text-center"},[e("b-col",{attrs:{cols:"6"}},[e("strong",[t._v("Các tiêu chí")])]),t._v(" "),e("b-col",[e("strong",[t._v("Mức độ đánh giá")])])],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Trung thực:")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.honest,callback:function(a){t.$set(t.standardEvaluation,"honest",a)},expression:"standardEvaluation.honest"}})],1)],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Tinh thần trách nhiệm:")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.responsibility,callback:function(a){t.$set(t.standardEvaluation,"responsibility",a)},expression:"standardEvaluation.responsibility"}})],1)],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Kỷ luật:")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.disciplinary,callback:function(a){t.$set(t.standardEvaluation,"disciplinary",a)},expression:"standardEvaluation.disciplinary"}})],1)],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Hiệu quả công việc:")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.effective,callback:function(a){t.$set(t.standardEvaluation,"effective",a)},expression:"standardEvaluation.effective"}})],1)],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Nhanh - giá trị cốt lõi:")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.core_values,callback:function(a){t.$set(t.standardEvaluation,"core_values",a)},expression:"standardEvaluation.core_values"}})],1)],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Giải quyết vấn đề đến cùng:")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.resolve_problem,callback:function(a){t.$set(t.standardEvaluation,"resolve_problem",a)},expression:"standardEvaluation.resolve_problem"}})],1)],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Cải tiến, Sáng tạo:")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.creation,callback:function(a){t.$set(t.standardEvaluation,"creation",a)},expression:"standardEvaluation.creation"}})],1)],1),t._v(" "),e("hr"),t._v(" "),1===t.isManagement?e("div",[e("strong",[t._v("Tiêu chí dành cho quản lí")]),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Sắp xếp, phân công công việc")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.work_assign,callback:function(a){t.$set(t.standardEvaluation,"work_assign",a)},expression:"standardEvaluation.work_assign"}})],1)],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Đánh giá, kiểm soát")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.evaluate_control,callback:function(a){t.$set(t.standardEvaluation,"evaluate_control",a)},expression:"standardEvaluation.evaluate_control"}})],1)],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Đào tạo, phát triển nhân viên")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.train_develop,callback:function(a){t.$set(t.standardEvaluation,"train_develop",a)},expression:"standardEvaluation.train_develop"}})],1)],1),t._v(" "),e("b-row",{staticClass:"mb-1 margin-top-10"},[e("b-col",{attrs:{cols:"6"}},[t._v("Gắn kết, xây dựng tập thể")]),t._v(" "),e("b-col",[e("b-form-select",{attrs:{options:t.optionEvaluation,placeholder:"Chọn mức độ đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.build_collectivity,callback:function(a){t.$set(t.standardEvaluation,"build_collectivity",a)},expression:"standardEvaluation.build_collectivity"}})],1)],1)],1):t._e(),t._v(" "),e("b-row",[e("b-form-group",{staticClass:"col-md-12",attrs:{label:"Nhận xét",id:"input-group-tax-iden-number"}},[e("b-form-input",{attrs:{id:"input-tax-iden-number",placeholder:"Nguyên nhân đánh giá"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.editEvaluation(a)}},model:{value:t.standardEvaluation.descrip,callback:function(a){t.$set(t.standardEvaluation,"descrip",a)},expression:"standardEvaluation.descrip"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"text-center margin-top-10"},[e("b-button",{attrs:{variant:"primary"},on:{click:function(a){return t.editEvaluation()}}},[t._v("Đánh giá")])],1)],1)],1)},[],!1,p,"data-v-4d181e64",null).exports;var m=function(t){e("OEkN"),e("7tPQ")},h=Object(s.a)({name:"modal-criteria-for-manager",components:{},props:["evaluation"],data:function(){return{}},created:function(){},watch:{},methods:{transferToEmotionByEvaluation:function(t){return 1===t?'<i class="ion ion-ios-sad" style="font-size: 24px"></i>':2===t?'<i class="ion ion-md-happy" style="font-size: 24px; color: orange"></i>':3===t?'<i class="ion ion-ios-happy" style="font-size: 24px; color: orange"></i>':4===t?'<i class="ion ion-md-thumbs-up" style="font-size: 24px; color: #02BC77"></i>':void 0}}},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("b-modal",{ref:"myModalCriteriaForManager",attrs:{id:"modal-criteria-for-manager","hide-footer":"",static:""}},[e("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v("\n            Kết quả đánh giá tiêu chí dành cho quản lí\n        ")]),t._v(" "),e("b-container",{attrs:{fluid:""}},[e("table",{staticClass:"table b-table table-striped table-hover table-bordered"},[e("thead",[e("tr",[e("th",[t._v("Sắp xếp, phân công công việc")]),t._v(" "),e("th",[t._v("Đánh giá, kiểm soát")]),t._v(" "),e("th",[t._v("Đào tạo và phát triển nhân lực")]),t._v(" "),e("th",[t._v("Gắn kết và xây dựng tập thể")])])]),t._v(" "),e("tbody",[t.evaluation?e("tr",{staticClass:"is_align_middle"},[e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(t.evaluation.work_assign)))}}),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(t.evaluation.evaluate_control)))}}),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(t.evaluation.train_develop)))}}),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(t.evaluation.build_collectivity)))}})]):t._e()])])])],1)],1)},[],!1,m,"data-v-53facc89",null).exports,f={name:"detail-evaluation",components:{evaluationService:n.a,LaddaBtn:o.a,ModalEvaluationNote:r,ModalEditEvaluation:_,ModalCriteriaForManager:h},props:[],data:function(){return{recompense:{manager_recompense:[],cs_recompense:[],shop_vote:[]},evaluations:[],userInfo:{},evaluationModal:{},maRecompenseModal:{},optionStatusEvaluation:[{value:"1",text:"Chưa duyệt"},{value:"2",text:"Duyệt"}],optionStatusRecompense:[{value:"1",text:"Chưa duyệt"},{value:"2",text:"Duyệt"}],fileReport:[],typeNote:"",isManagement:""}},created:function(){this.checkIsManagement(),this.getEvaluationByUser(),this.getRecompenseAndVoteOfUser()},watch:{},methods:{checkIsManagement:function(){var t=this,a={id:this.$route.params.id};n.a.checkIsManagement(a).then(function(a){a.data.success&&(t.isManagement=a.data.data)}).catch(function(t){console.log(t)})},uploadReport:function(t,a){var e=this,o="fileInput"+t,i=new FormData;i.append("file",this.$refs[o][0].$refs.input.files[0]),i.append("id",a),n.a.uploadReport(i).then(function(t){t.data.success?(e.$notify({group:"default",type:"text-white bg-primary",text:t.data.message}),e.getRecompenseAndVoteOfUser()):e.$notify({group:"default",type:"text-white bg-warning",title:"Xảy ra lỗi",text:t.data.message})}).catch(function(t){console.log(t)}).then(function(){e.$stopLoading()})},showImage:function(t){window.open(t)},trigger:function(t){var a="fileInput"+t;this.$refs[a][0].$el.childNodes[0].click()},transferToEmotionByEvaluation:function(t){return 1===t?'<i class="ion ion-ios-sad" style="font-size: 24px"></i>':2===t?'<i class="ion ion-md-happy" style="font-size: 24px; color: orange"></i>':3===t?'<i class="ion ion-ios-happy" style="font-size: 24px; color: orange"></i>':4===t?'<i class="ion ion-md-thumbs-up" style="font-size: 24px; color: #02BC77"></i>':void 0},getRecompenseAndVoteOfUser:function(){var t=this,a={id:this.$route.params.id,from:this.$route.query.from,to:this.$route.query.to};n.a.getRecompenseAndVoteOfUser(a).then(function(a){a.data.success&&(t.recompense.manager_recompense=a.data.data.manager_recompense,t.recompense.cs_recompense=a.data.data.cs_recompense,t.recompense.shop_vote=a.data.data.shop_vote,t.loading=!1)}).catch(function(t){console.log(t)})},getEvaluationByUser:function(){var t=this,a={id:this.$route.params.id,from:this.$route.query.from,to:this.$route.query.to};n.a.getEvaluationByUser(a).then(function(a){a.data.success&&(t.userInfo=a.data.data.UserInfo,t.evaluations=a.data.data.Evaluations)}).catch(function(t){console.log(t)})},setEvaluation:function(t,a,e){var n=this;this.evaluationModal=t,this.typeNote=e,1===a&&setTimeout(function(){n.$bvModal.show("modal-evaluation-note")},.01),2===a&&setTimeout(function(){n.$bvModal.show("modal-edit-evaluation")},.01),3===a&&setTimeout(function(){n.$bvModal.show("modal-criteria-for-manager")},.01)},changeStatusEvaluationOfStaff:function(t,a){var e=this,o={id:a,status:t};n.a.changeStatusEvaluationOfStaff(o).then(function(t){t.data.success?(e.$notify({group:"default",type:"text-white bg-primary",text:t.data.message}),e.getEvaluationByUser()):e.$notify({group:"default",type:"text-white bg-warning",title:"Xảy ra lỗi",text:t.data.message})}).catch(function(t){console.log(t)})},changeStatusRecompenseOfStaff:function(t,a){var e=this,o={id:a,status:t};n.a.changeStatusRecompenseOfStaff(o).then(function(t){t.data.success?(e.$notify({group:"default",type:"text-white bg-primary",text:t.data.message}),e.getRecompenseAndVoteOfUser()):e.$notify({group:"default",type:"text-white bg-warning",title:"Xảy ra lỗi",text:t.data.message})}).catch(function(t){console.log(t)})}}};var g=function(t){e("OEkN"),e("HqFn")},b=Object(s.a)(f,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"row no-gutters row-bordered"},[e("div",{staticClass:"col-md-12 col-lg-12 col-xl-12"},[e("h6",{staticClass:"card-header ttcn-header"},[e("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-ttcn",modifiers:{"accordion-ttcn":!0}}],staticClass:"text-dark",attrs:{href:"javascript:void(0)"}},[e("i",{staticClass:"ion  ion-ios-add-circle"}),t._v(" Thông tin nhân viên được đánh giá")])]),t._v(" "),e("b-collapse",{attrs:{id:"accordion-ttcn",visible:""}},[e("div",{staticClass:"card-body"},[e("b-form-row",[e("b-media",{staticClass:"col-md-2 col-lg-2 col-xl-2 text-center",attrs:{"vertical-align":"center"}},[e("b-img",{attrs:{src:t.userInfo.image_profile,width:"120",height:"160",alt:"avatar"}})],1),t._v(" "),e("div",{staticClass:"col-md-10 col-lg-10 col-xl-10"},[e("div",{staticClass:"col-md-12"},[e("p",[t._v("Mã nhân viên: "+t._s(t.userInfo.staff_code))]),t._v(" "),e("p",[t._v("Tên nhân viên: "+t._s(t.userInfo.fullname))]),t._v(" "),e("p",[t._v("Email cá nhân: "+t._s(t.userInfo.personal_email))]),t._v(" "),e("p",[t._v("Số điện thoại: "+t._s(t.userInfo.tel))]),t._v(" "),e("p",[t._v("Ngày vào: "+t._s(t.userInfo.join_date))])])])],1)],1)])],1)])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"row no-gutters row-bordered"},[e("div",{staticClass:"col-md-12 col-lg-12 col-xl-12"},[e("h6",{staticClass:"card-header ttcn-header d-inline-block border-bottom-0"},[e("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.evaluation-detail",modifiers:{"evaluation-detail":!0}}],staticClass:"text-dark",attrs:{href:"javascript:void(0)"}},[e("i",{staticClass:"ion  ion-ios-add-circle"}),t._v(" Thông tin đánh giá của "+t._s(t.userInfo.fullname)+" theo giai đoạn")])]),t._v(" "),0===t.evaluations.length?e("b-button",{staticClass:"btn btn-outline-primary add-evaluation",attrs:{"data-style":"zoom-out"},on:{click:function(a){return t.setEvaluation(null,2,null)}}},[t._v("\n                            Thêm đánh giá\n                        ")]):t._e(),t._v(" "),e("hr",{staticClass:"m-0"}),t._v(" "),e("b-collapse",{attrs:{id:"evaluation-detail",visible:""}},[e("div",{staticClass:"card-body"},[t.evaluations.length>0?e("b-form-row",[e("table",{staticClass:"table b-table table-striped table-hover table-bordered"},[e("thead",[e("tr",[e("th",{staticClass:"d-none"},[t._v("STT")]),t._v(" "),e("th",[t._v("Người đánh giá")]),t._v(" "),e("th",[t._v("Bắt đầu")]),t._v(" "),e("th",[t._v("Kết thúc")]),t._v(" "),e("th",[t._v("Trung thực")]),t._v(" "),e("th",[t._v("Trách nhiệm")]),t._v(" "),e("th",[t._v("Kỷ luật")]),t._v(" "),e("th",[t._v("Hiệu quả")]),t._v(" "),e("th",[t._v("Nhanh-Cốt lõi")]),t._v(" "),e("th",[t._v("Giải quyết vấn đề")]),t._v(" "),e("th",[t._v("Cải tiến, Sáng tạo")]),t._v(" "),1===t.isManagement?e("th",[t._v("Tiêu chí quản lí")]):t._e(),t._v(" "),e("th",[t._v("Nhận xét")]),t._v(" "),e("th",[t._v("Tình trạng")]),t._v(" "),e("th",[t._v("Action")])])]),t._v(" "),e("tbody",t._l(t.evaluations,function(a,n){return e("tr",{staticClass:"is_align_middle"},[e("td",{staticClass:"d-none"},[t._v(t._s(n+1))]),t._v(" "),e("td",[t._v(t._s(a.created_by_name))]),t._v(" "),e("td",[t._v(t._s(a.start_date))]),t._v(" "),e("td",[t._v(t._s(a.end_date))]),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(a.honest)))}}),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(a.responsibility)))}}),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(a.disciplinary)))}}),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(a.effective)))}}),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(a.core_values)))}}),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(a.resolve_problem)))}}),t._v(" "),e("td",{domProps:{innerHTML:t._s(t.transferToEmotionByEvaluation(Number(a.creation)))}}),t._v(" "),1===t.isManagement?e("td",[e("b-button",{staticClass:"btn btn-outline-primary",attrs:{"data-style":"zoom-out"},on:{click:function(e){return t.setEvaluation(a,3,null)}}},[t._v("Xem kết quả")])],1):t._e(),t._v(" "),e("td",[t._v(t._s(a.descrip))]),t._v(" "),e("td",[e("b-form-select",{staticClass:"cursor-pointer",attrs:{options:t.optionStatusEvaluation,placeholder:"Chọn mức độ đánh giá"},on:{change:function(e){return t.changeStatusEvaluationOfStaff(e,a.id)}},model:{value:a.status,callback:function(e){t.$set(a,"status",e)},expression:"evaluation.status"}})],1),t._v(" "),e("td",[e("b-button",{staticClass:"btn btn-outline-primary",attrs:{"data-style":"zoom-out"},on:{click:function(e){return t.setEvaluation(a,1,1)}}},[t._v("\n                                                    Xem ghi chú\n                                                ")]),t._v(" "),e("b-button",{staticClass:"btn btn-outline-primary",attrs:{"data-style":"zoom-out"},on:{click:function(e){return t.setEvaluation(a,2,null)}}},[t._v("\n                                                    Chỉnh sửa\n                                                ")])],1)])}),0)])]):e("b-form-row",[t._v("\n                                    Không có thông tin đánh giá trong thời gian này\n                                ")])],1)])],1)])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"row no-gutters row-bordered"},[e("div",{staticClass:"col-md-12 col-lg-12 col-xl-12"},[e("h6",{staticClass:"card-header ttcn-header"},[e("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.recompense",modifiers:{recompense:!0}}],staticClass:"text-dark",attrs:{href:"javascript:void(0)"}},[e("i",{staticClass:"ion  ion-ios-add-circle"}),t._v(" Thông tin thưởng phạt của "+t._s(t.userInfo.fullname))])]),t._v(" "),e("b-collapse",{attrs:{id:"recompense",visible:""}},[e("div",{staticClass:"card-body"},[t.recompense.manager_recompense.length>0||t.recompense.cs_recompense.length>0||t.recompense.shop_vote.length>0?e("b-form-row",[t.recompense.manager_recompense.length>0?e("div",{staticClass:"col-md-12 recompense-component"},t._l(t.recompense.manager_recompense,function(a,n){return e("div",[e("div",{staticClass:"recompense-container",class:[n%2==1?"background-fdfffe":"background-ecf6f1"]},[e("b-row",[e("b-col",{staticClass:"md-1 d-flex justify-content-center align-items-center lnr-text-align-center",attrs:{md:"1"}},[e("i",{staticClass:"ion ion-ios-person font-size-36"})]),t._v(" "),e("b-col",{staticClass:"md-3",attrs:{md:"3"}},[e("span",{staticClass:"d-block"},[e("strong",[t._v(t._s(a.user_evaluate))]),t._v(" đánh giá")]),t._v(" "),e("span",{staticClass:"d-block infor-small"},[t._v("Vị trí: "+t._s(a.user_position_evaluate))]),t._v(" "),e("span",{staticClass:"d-block infor-small"},[t._v("Ngày đánh giá: "+t._s(a.created))])]),t._v(" "),e("b-col",{staticClass:"md-4 d-flex align-items-center",attrs:{md:"4"}},[e("div",[1==a.type?e("span",{staticClass:"d-block"},[1==a.penalty_card?e("strong",[t._v("Phạt thẻ vàng")]):t._e(),t._v(" "),2==a.penalty_card?e("strong",[t._v("Phạt thẻ đỏ")]):t._e(),t._v(" "),3==a.penalty_card?e("span",[t._v("Phạt nóng "),e("strong",{directives:[{name:"numeral",rawName:"v-numeral"}]},[t._v(t._s(a.suggest))]),t._v(" VNĐ")]):t._e()]):2==a.type?e("span",{staticClass:"d-block"},[1==a.reward_type?e("span",[t._v("Thưởng nóng: "),e("strong",{directives:[{name:"numeral",rawName:"v-numeral"}]},[t._v(t._s(a.suggest))]),t._v(" VNĐ")]):t._e(),t._v(" "),2==a.reward_type?e("span",[t._v("Thưởng cuối tháng: "),e("strong",{directives:[{name:"numeral",rawName:"v-numeral"}]},[t._v(t._s(a.suggest))]),t._v(" VNĐ")]):t._e(),t._v(" "),1==a.commendation?e("span",[e("strong",[t._v("Tuyên dương")])]):t._e()]):t._e(),t._v(" "),e("span",{staticClass:"d-block"},[t._v("Nhận xét:\n                                                                "),""==a.descrip?e("span",[t._v("Không có nhận xét")]):e("span",[t._v(" "+t._s(a.descrip))])]),t._v(" "),e("span",{staticClass:"d-block recompense-detail-note",on:{click:function(e){return t.setEvaluation(a,1,2)}}},[t._v("Xem ghi chú")])])]),t._v(" "),e("b-col",{staticClass:"md-2 d-flex justify-content-between align-items-center",attrs:{md:"2"}},[1==a.type?e("div",[e("span",[t._v("Biên bản:\n                                                                "),a.report_link?e("span",[e("span",{staticClass:"cursor-pointer",staticStyle:{color:"#26B4FF","margin-right":"10px"},on:{click:function(e){return t.showImage(a.report_link)}}},[t._v("Ảnh file")]),t._v(" "),e("i",{staticClass:"ion ion-md-sync",staticStyle:{color:"#26B4FF","font-size":"18px"},on:{click:function(a){return t.trigger(n)}}})]):e("i",{staticClass:"ion ion-md-cloud-upload",staticStyle:{color:"#26B4FF","font-size":"18px"},on:{click:function(a){return t.trigger(n)}}})]),t._v(" "),e("b-form-file",{ref:"fileInput"+n,refInFor:!0,staticStyle:{display:"none"},on:{change:function(e){return t.uploadReport(n,a.id)}}})],1):t._e()]),t._v(" "),e("b-col",{staticClass:"md-1 d-flex justify-content-end align-items-center",attrs:{md:"1"}},[e("b-form-select",{staticClass:"cursor-pointer",attrs:{options:t.optionStatusRecompense,placeholder:"Chọn"},on:{change:function(e){return t.changeStatusRecompenseOfStaff(e,a.id)}},model:{value:a.status,callback:function(e){t.$set(a,"status",e)},expression:"ma_re.status"}})],1),t._v(" "),e("b-col",{staticClass:"md-1 d-flex justify-content-end align-items-center",attrs:{md:"1"}},[1==a.penalty_card?e("i",{staticClass:"ion ion-ios-square font-size-24",staticStyle:{color:"orange"}}):2==a.penalty_card?e("i",{staticClass:"ion ion-ios-square font-size-24",staticStyle:{color:"red"}}):2==a.type?e("i",{staticClass:"ion ion-md-thumbs-up font-size-24",staticStyle:{color:"#02BC77"}}):t._e()])],1)],1)])}),0):t._e(),t._v(" "),t.recompense.cs_recompense.length>0?e("div",{staticClass:"col-md-12 recompense-component"},t._l(t.recompense.cs_recompense,function(a,n){return e("div",[e("div",{staticClass:"recompense-container",class:[n%2==1?"background-fdfffe":"background-ecf6f1"]},[e("b-row",[e("b-col",{staticClass:"md-1 d-flex justify-content-center align-items-center lnr-text-align-center",attrs:{md:"1"}},[e("i",{staticClass:"ion ion-ios-contacts font-size-36"})]),t._v(" "),e("b-col",{staticClass:"md-3",attrs:{md:"3"}},[e("span",{staticClass:"d-block"},[e("strong",[t._v("Chăm sóc khách hàng")])]),t._v(" "),e("span",{staticClass:"d-block infor-small"},[t._v("Mã đơn: "+t._s(a.package_code))]),t._v(" "),e("span",{staticClass:"d-block infor-small"},[t._v("Ngày đánh giá: "+t._s(a.created))])]),t._v(" "),e("b-col",{staticClass:"md-7 d-flex align-items-center",attrs:{md:"7"}},[e("div",[1==a.card?e("strong",{staticClass:"d-block"},[t._v("\n                                                                Phạt thẻ đỏ\n                                                            ")]):t._e(),t._v(" "),2==a.card?e("strong",{staticClass:"d-block"},[t._v("\n                                                                Phạt thẻ vàng\n                                                            ")]):t._e(),t._v(" "),e("span",{staticClass:"d-block"},[t._v("Lí do:\n                                                                "),""==a.reason_mss?e("span",[t._v(" Không có lí do")]):e("span",[t._v(" "+t._s(a.reason_mss))])])])]),t._v(" "),e("b-col",{staticClass:"md-1 d-flex justify-content-end align-items-center float-right",attrs:{md:"1"}},[1==a.card?e("i",{staticClass:"ion ion-ios-square font-size-24",staticStyle:{color:"red"}}):2==a.card?e("i",{staticClass:"ion ion-ios-square font-size-24",staticStyle:{color:"orange"}}):t._e()])],1)],1)])}),0):t._e(),t._v(" "),t.recompense.shop_vote.length>0?e("div",{staticClass:"col-md-12 recompense-component"},t._l(t.recompense.shop_vote,function(a,n){return e("div",{},[e("div",{staticClass:"recompense-container",class:[n%2==1?"background-fdfffe":"background-ecf6f1"]},[e("b-row",[e("b-col",{staticClass:"md-1 d-flex justify-content-center align-items-center lnr-text-align-center",attrs:{md:"1"}},[e("i",{staticClass:"ion ion-md-cart font-size-36"})]),t._v(" "),e("b-col",{staticClass:"md-4",attrs:{md:"4"}},[e("span",{staticClass:"d-block"},[t._v("Shop: "),e("strong",[t._v(t._s(a.shop_name))])]),t._v(" "),e("span",{staticClass:"d-block infor-small"},[t._v("Số điện thoại: "+t._s(a.shop_tel))])]),t._v(" "),e("b-col",{staticClass:"md-4 d-flex justify-content-sm-center align-items-center",attrs:{md:"4"}},[e("div",[null==a.rate?e("span",{staticClass:"d-block"},[t._v("\n                                                               Không có thông tin đánh giá\n                                                            ")]):e("span",[t._v("\n                                                                "+t._s(a.rate)+" "),e("i",{staticClass:"ion ion-ios-star",staticStyle:{color:"orange"}})])])]),t._v(" "),e("b-col",{staticClass:"md-2 d-flex justify-content-end align-items-center float-right",attrs:{md:"2"}},[a.rate<3?e("i",{staticClass:"ion ion-ios-sad font-size-24"}):3==a.rate?e("i",{staticClass:"ion ion-md-happy font-size-24",staticStyle:{color:"orange"}}):a.rate>3?e("i",{staticClass:"ion ion-ios-happy font-size-24",staticStyle:{color:"orange"}}):t._e()])],1)],1)])}),0):t._e()]):e("b-form-row",[t._v("\n                                    Không có thông tin thưởng phạt trong thời gian này\n                                ")])],1)])],1)])])])]),t._v(" "),e("modal-evaluation-note",{attrs:{evaluation:t.evaluationModal,typeNote:t.typeNote}}),t._v(" "),e("modal-edit-evaluation",{attrs:{evaluation:t.evaluationModal,isManagement:t.isManagement},on:{"update-evaluation":t.getEvaluationByUser}}),t._v(" "),e("modal-criteria-for-manager",{attrs:{evaluation:t.evaluationModal}})],1)},[],!1,g,"data-v-58cea064",null);a.default=b.exports},"7tPQ":function(t,a){},HqFn:function(t,a){},ZLPy:function(t,a){},qkSh:function(t,a,e){"use strict";var n=e("JJbb");a.a={getEvaluationList:function(t){return n.a.get("evaluations/list",{params:t})},getRecompenseAndVoteOfUser:function(t){return n.a.get("evaluations/getRecompenseAndVoteOfUser",{params:t})},getEvaluationByUser:function(t){return n.a.get("evaluations/getEvaluationByUser",{params:t})},addEvaluation:function(t){return n.a.post("evaluations/add",t)},getListEvaluationNotes:function(t){return n.a.get("evaluations/getListEvaluationNotes",{params:t})},addNote:function(t){return n.a.post("evaluations/addNote",t)},changeStatusEvaluationOfStaff:function(t){return n.a.post("evaluations/changeStatusEvaluationOfStaff",t)},changeStatusRecompenseOfStaff:function(t){return n.a.post("evaluations/changeStatusRecompenseOfStaff",t)},uploadReport:function(t){return n.a.post("evaluations/uploadReport",t)},checkIsManagement:function(t){return n.a.get("evaluations/checkIsManagement",{params:t})}}},sPVA:function(t,a){}});