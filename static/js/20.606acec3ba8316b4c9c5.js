webpackJsonp([20],{"990i":function(e,t){},AweK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("4s2B"),n=a("4WGu"),i=a("mtWM"),c=a.n(i),o=a("RUzx"),l=a.n(o),r={name:"select-province-and-district",props:{multiple:{type:Boolean,default:!0},provincePlaceholder:{type:String,default:"Nhập tỉnh/thành phố"},districtPlaceholder:{type:String,default:"Nhập quận/huyện"}},components:{Multiselect:l.a},data:function(){return{provinces:[],districts:[],selectedProvince:[],selectedDistrict:[]}},methods:{getOptions:function(){var e=this;c.a.get(n.a.baseApiUrl+"AdShopBank/getOptionSearch").then(function(t){t.data.success&&(e.provinces=t.data.data.options.provinces,e.multiple||e.provinces.unshift({code:"",name:e.selectedProvince}))}).catch(function(e){})},onSelectProvince:function(e){var t=this,a=[];if(this.multiple){if(this.selectedProvince.length>0)for(var s=0;s<this.selectedProvince.length;s++)a.push(this.selectedProvince[s].code);a.push(e.code),this.$emit("getProvince",a),this.$emit("getDistrict","")}else this.selectedProvince=e.code,this.$emit("getProvince",this.selectedProvince),this.$emit("getDistrict","");var i={province_id:a};this.districts=[],this.selectedDistrict=[],c.a.get(n.a.baseApiUrl+"AdShopBank/apiGetDistrictForSearch",{params:i}).then(function(e){e.data.length>0&&(t.districts=e.data,t.multiple||t.districts.unshift({code:"",name:t.selectedDistrict}))}).catch(function(e){}).then(function(){self.app_mode="running"})},onRemoveProvince:function(e){var t=this;this.districts=[],this.selectedDistrict=[];var a=[];if(this.multiple){for(var s=0;s<this.selectedProvince.length;s++)this.selectedProvince[s].code!==e.code&&a.push(this.selectedProvince[s].code);this.$emit("getProvince",a)}var i={province_id:a};this.districts=[],this.selectedDistrict=[],c.a.get(n.a.baseApiUrl+"AdShopBank/apiGetDistrictForSearch",{params:i}).then(function(e){e.data.length>0&&(t.districts=e.data,t.multiple||t.districts.unshift({code:"",name:t.selectedDistrict}))}).catch(function(e){}).then(function(){self.app_mode="running"})},onSelectDistrict:function(e){if(this.multiple){var t=[];if(this.selectedDistrict.length>0)for(var a=0;a<this.selectedDistrict.length;a++)t.push(this.selectedDistrict[a].code);t.push(e.code),this.$emit("getDistrict",t)}else this.selectedDistrict=e.code,this.$emit("getDistrict",this.selectedDistrict)},onRemoveDistrict:function(e){var t=[];if(this.multiple){for(var a=0;a<this.selectedDistrict.length;a++)this.selectedDistrict[a].code!==e.code&&t.push(this.selectedDistrict[a].code);this.$emit("getDistrict",t)}},reset:function(){this.selectedDistrict=this.multiple?[]:"",this.$emit("getDistrict",this.selectedDistrict),this.selectedProvince=this.multiple?[]:"",this.$emit("getProvince",this.selectedProvince)}},created:function(){this.getOptions()}},d=a("XyMi");var h=function(e){a("990i")},p=Object(d.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-8"},[a("b-form-row",[a("b-form-group",{staticClass:"col-md-6",attrs:{label:"Tỉnh/thành phố"}},[a("multiselect",{attrs:{options:e.provinces,multiple:e.multiple,placeholder:e.provincePlaceholder,"track-by":"name",selectLabel:"",selectedLabel:"",deselectLabel:"x",label:"name"},on:{select:e.onSelectProvince,remove:e.onRemoveProvince},model:{value:e.selectedProvince,callback:function(t){e.selectedProvince=t},expression:"selectedProvince"}})],1),e._v(" "),a("b-form-group",{staticClass:"col-md-6",attrs:{label:"Quận/huyện"}},[a("multiselect",{attrs:{options:e.districts,multiple:e.multiple,placeholder:e.districtPlaceholder,"track-by":"name",selectLabel:"",selectedLabel:"",deselectLabel:"x",label:"name"},on:{select:e.onSelectDistrict,remove:e.onRemoveDistrict},model:{value:e.selectedDistrict,callback:function(t){e.selectedDistrict=t},expression:"selectedDistrict"}})],1)],1)],1)},[],!1,h,"data-v-da5bebf4",null).exports,u=a("5eEt"),m=a("GyeY"),b={name:"select-shop-stt",props:{multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn trạng thái shop"}},components:{Multiselect:l.a},data:function(){return{status:[],selectedShopStt:[]}},methods:{getOptions:function(){var e=this;c.a.get(n.a.baseApiUrl+"AdShopBank/getOptionSearch").then(function(t){t.data.success&&(e.status=t.data.data.options.shopStatuses,e.multiple||e.status.unshift({code:"",name:e.placeholder}))}).catch(function(e){})},onSelect:function(e){if(this.multiple){var t=[];if(this.selectedShopStt.length>0)for(var a=0;a<this.selectedShopStt.length;a++)t.push(this.selectedShopStt[a].code);t.push(e.code),this.$emit("selected",t)}else this.selectedShopStt=e.code,this.$emit("selected",this.selectedShopStt)},onRemove:function(e){var t=[];if(this.multiple){for(var a=0;a<this.selectedShopStt.length;a++)this.selectedShopStt[a].code!==e.code&&t.push(this.selectedShopStt[a].code);this.$emit("selected",t)}},reset:function(){this.selectedShopStt=this.multiple?[]:"",this.$emit("selected",this.selectedShopStt)}},created:function(){this.getOptions()}};var v=function(e){a("zgi/")},_=Object(d.a)(b,function(){var e=this,t=e.$createElement;return(e._self._c||t)("multiselect",{attrs:{options:e.status,multiple:e.multiple,placeholder:e.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:e.onSelect,remove:e.onRemove},model:{value:e.selectedShopStt,callback:function(t){e.selectedShopStt=t},expression:"selectedShopStt"}})},[],!1,v,"data-v-99d9816a",null).exports,g={name:"select-shop-type",props:{multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn kiểu shop"}},components:{Multiselect:l.a},data:function(){return{type:[],selectedShopType:[]}},methods:{getOptions:function(){var e=this;c.a.get(n.a.baseApiUrl+"AdShopBank/getOptionSearch").then(function(t){t.data.success&&(e.type=t.data.data.options.shopTypes,e.multiple||e.type.unshift({code:"",name:e.placeholder}))}).catch(function(e){})},onSelect:function(e){if(this.multiple){var t=[];if(this.selectedShopType.length>0)for(var a=0;a<this.selectedShopType.length;a++)t.push(this.selectedShopType[a].code);t.push(e.code),this.$emit("selected",t)}else this.selectedShopType=e.code,this.$emit("selected",this.selectedShopType)},onRemove:function(e){var t=[];if(this.multiple){for(var a=0;a<this.selectedShopType.length;a++)this.selectedShopType[a].code!==e.code&&t.push(this.selectedShopType[a].code);this.$emit("selected",t)}},reset:function(){this.selectedShopType=this.multiple?[]:"",this.$emit("selected",this.selectedShopType)}},created:function(){this.getOptions()}};var k=function(e){a("J/c9")},f=Object(d.a)(g,function(){var e=this,t=e.$createElement;return(e._self._c||t)("multiselect",{attrs:{options:e.type,multiple:e.multiple,placeholder:e.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:e.onSelect,remove:e.onRemove},model:{value:e.selectedShopType,callback:function(t){e.selectedShopType=t},expression:"selectedShopType"}})},[],!1,k,"data-v-893de440",null).exports,B=a("kNeQ"),S={name:"select-bank-model",props:{bankPlaceholder:{type:String,default:"Nhập ngân hàng"},brandPlaceholder:{type:String,default:"Nhập chi nhánh ngân hàng"}},components:{Multiselect:l.a},data:function(){return{valueBank:"",valueBankBrand:"",bank:[],banksBrand:[],newSelectedBanks:"",newSelectedBanksBrand:"",errBank:!1,errBankBrand:!1}},methods:{getOptions:function(){var e=this;c.a.get(n.a.baseApiUrl+"AdShopBank/getOptionSearch").then(function(t){t.data.success&&(e.bank=t.data.data.options.banks,e.bank.unshift({code:"",name:e.placeholder}))})},onSelect:function(e){var t=this,a=this;a.newSelectedBanks=e.code,a.$emit("selectedBank",this.newSelectedBanks);var s={bank_code:a.newSelectedBanks};B.a.getBankBrand(s).then(function(e){e.data.success?e.data.bank_brand?(a.banksBrand=e.data.bank_brand,a.valueBankBrand="",a.banksBrand.unshift({code:"",name:t.brandPlaceholder}),a.newSelectedBanksBrand="",t.$emit("selectedBankBrand",a.newSelectedBanksBrand)):(a.banksBrand=[{code:"không cần chi nhánh",name:"Không cần chọn chi nhánh"}],a.valueBankBrand=a.banksBrand,a.newSelectedBanksBrand="không cần chi nhánh",a.$emit("selectedBankBrand",a.newSelectedBanksBrand),a.errBankBrand=!1):alert("Có lỗi xảy ra")})},onSelectBrand:function(e){this.newSelectedBanksBrand=e.code,this.$emit("selectedBankBrand",this.newSelectedBanksBrand)},onRemove:function(){this.newSelectedBanks="",this.$emit("selectedBank","")},onRemoveBrand:function(){this.newSelectedBanksBrand="",this.$emit("selectedBankBrand","")},reset:function(){this.newSelectedBanks="",this.newSelectedBanksBrand=""},fillOption:function(e){var t=this,a=this;B.a.fillDataBank(e).then(function(e){e.data.success?e.data.bank_shop.bank.code?(a.bank=e.data.banks,a.banksBrand=e.data.brands,a.bank.unshift({code:"",name:t.bankPlaceholder}),a.banksBrand.unshift({code:"",name:t.brandPlaceholder}),a.valueBank=e.data.bank_shop.bank,a.valueBankBrand=e.data.bank_shop.brand,a.newSelectedBanks=e.data.bank_shop.bank.code,a.newSelectedBanksBrand=e.data.bank_shop.brand.code,a.$emit("selectedBank",a.newSelectedBanks),a.$emit("selectedBankBrand",a.newSelectedBanksBrand)):(a.bank=e.data.banks,a.banksBrand=[{code:"",name:t.brandPlaceholder}],a.valueBank="",a.valueBankBrand="",a.newSelectedBanks="",a.newSelectedBanksBrand="",a.$emit("selectedBank",a.newSelectedBanks),a.$emit("selectedBankBrand",a.newSelectedBanksBrand)):alert("Có lỗi xảy ra")})},submit:function(e,t){this.errBank=e,this.errBankBrand=t}}};var C=function(e){a("i56v")},y=Object(d.a)(S,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-form-group",{staticClass:"col-sm-12"},[a("label",{staticClass:"font-weight-bold"},[e._v("Ngân hàng")]),e._v(" "),a("multiselect",{class:{errorClass:e.errBank},attrs:{options:e.bank,multiple:!1,placeholder:e.bankPlaceholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x",taggable:!0},on:{select:e.onSelect,remove:e.onRemove,open:function(t){e.errBank=!1}},model:{value:e.valueBank,callback:function(t){e.valueBank=t},expression:"valueBank"}})],1),e._v(" "),a("b-form-group",{staticClass:"col-sm-12"},[a("label",{staticClass:"font-weight-bold"},[e._v("Chi nhánh ngân hàng")]),e._v(" "),a("multiselect",{class:{errorClass:e.errBankBrand},attrs:{options:e.banksBrand,multiple:!1,placeholder:e.brandPlaceholder,"track-by":"name",selectLabel:"",selectedLabel:"",deselectLabel:"x",label:"name"},on:{select:e.onSelectBrand,remove:e.onRemoveBrand,open:function(t){e.errBankBrand=!1}},model:{value:e.valueBankBrand,callback:function(t){e.valueBankBrand=t},expression:"valueBankBrand"}})],1)],1)},[],!1,C,"data-v-875df9a8",null).exports,w=a("IC97"),T=a("PJh5"),x=a.n(T),A=a("qaB4"),D=a("mCOD"),P=a("KVzY");a("7+uW").default.use(P.default);var E={components:{SelectCtmCare:m.a,SelectStations:s.a,SelectProvinceAndDistrict:p,SelectUserShop:u.a,SelectShopStt:_,SelectShopType:f,SelectBankModel:y,Datepicker:w.a,Multiselect:l.a,LaddaBtn:A.a,LoadingMiniBottom:D.a},data:function(){return{selected:{shopStt:[],shopType:[],stations:[],province:[],district:[],ctmCare:[],user_created:"",user_email:"",user_manager:"",auditType:""},from:"",to:"",shops:{shop_code:"",shop_email:"",shop_tel:"",shop_name:""},loading:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pageData:{currentPage:1,totalPages:0,totalItems:0,perPage:10,sortBy:"id",sortDesc:!1},checkResult:!1,appLoading:!1,loadingTransfer:!1,htmlTransfer:'<div class="sk-folding-cube sk-primary">\n        <div class="sk-cube1 sk-cube"></div>\n        <div class="sk-cube2 sk-cube"></div>\n        <div class="sk-cube4 sk-cube"></div>\n        <div class="sk-cube3 sk-cube"></div>\n        </div>\n        <h5 class="text-center mb-0">Đang xử lý...</h5>',listShops:[],inputDisable:!1,packageStatuses:[],selectTimeType:{name:"Thời gian tạo",code:"created"},timeType:[{name:"Thời gian tạo",code:"created"},{name:"Thời gian gửi email",code:"last_sent_consultant_email"},{name:"Đã tạo đơn hàng",code:"created_packages"},{name:"Không có đơn hàng nào",code:"no_created_packages"},{name:"Đơn hàng đầu tiên",code:"first_completed"}],selectAuditType:{name:"Tất cả",code:""},auditType:[{name:"Tất cả",code:""},{name:"Đối soát thủ công",code:"manual"},{name:"Đối soát tự động",code:"auto"}],selectErBankOwn:[],selectedErBankOwn:[],typeErrorBankOwn:[{name:"Tên tài khoản rỗng",code:"bank_own_empty"},{name:"Tên tài khoản có ký tự không hợp lệ",code:"bank_own_invalid"},{name:"Tên tài khoản vượt quá 50 ký tự",code:"bank_own_max"},{name:"Số tài khoản và tên tài khoản không khớp nhau",code:"bank_own_not_match"}],selectErBankAccount:[],selectedErBankAccount:[],typeErrorBankAccount:[{name:"Số tài khoản rỗng",code:"bank_acc_empty"},{name:"Số tài khoản ít hơn 6 ký tự",code:"bank_acc_min"},{name:"Số tài khoản có ký tự không hợp lệ",code:"bank_acc_invalid"},{name:"Số tài khoản không được vượt quá 50 ký tự",code:"bank_acc_max"}],successModel:!0,bankAccount:"",bankName:"",sendShopCode:"",againstEmail:"",message:[],errEditBankInfo:!1,notEmpty:"",auditing:"",checkboxAuditing:"",invalidShop:"",errEmail:!1,errBankName:!1,errBankAcc:!1,errBank:!1,errBankBrand:!1,isManageAllShop:!1}},methods:{customFormatter:function(e){return x()(e).format("YYYY-MM-DD")},dateSelectedFromInChild:function(e){this.from=e},dateSelectedToInChild:function(e){this.to=e},resetForm:function(){this.shops.shop_code="",this.shops.shop_email="",this.shops.shop_name="",this.shops.shop_tel="",this.$refs.select_shopStt.reset(),this.$refs.select_shopType.reset(),this.$refs.select_stations.reset(),this.from="",this.to="",this.$refs.select_province_district.reset(),this.$refs.select_ctmCare.reset(),this.$refs.select_user_created.reset(),this.$refs.select_user_email.reset(),this.$refs.select_user_manager.reset(),this.selectAuditType={name:"Tất cả",code:""},this.selectErBankOwn=[],this.selectErBankAccount=[],this.selectTimeType={name:"Thời gian tạo",code:"created"}},checkAuditing:function(e){e.target.checked?this.auditing=e.target.checked:this.auditing=""},searchShop:function(e,t,a){var s=this,n={code:s.shops.shop_code,email:s.shops.shop_email,name:s.shops.shop_name,tel:s.shops.shop_tel,shop_status_id:s.selected.shopStt,shop_type:s.selected.shopType,station_id:s.selected.stations,date_type:s.selectTimeType.code,date_from:""===s.from?"":this.customFormatter(s.from),date_to:""===s.to?"":this.customFormatter(s.to),province_id:s.selected.province,district_id:s.selected.district,user_id:s.selected.ctmCare,created_user_id:s.selected.user_created,consultant_id:s.selected.user_email,manager_id:s.selected.user_manager,audit:s.selectAuditType.code,auditing:s.auditing,invalid_bank_own:s.selectedErBankOwn,invalid_bank_account:s.selectedErBankAccount,page:e};t&&(this.pageData.currentPage=1,n.page=1),s.appLoading=!0,this.startLoading(a),B.a.searchShopIncorrectBankInfo(n).then(function(e){e.data.success?(s.checkResult=e.data.success,s.pageData.totalItems=e.data.options.total,s.pageData.perPage=e.data.options.per_page,s.pageData.totalPages=e.data.options.total_page,s.listShops=e.data.options.shops,s.isManageAllShop=e.data.options.isManageAllShop,s.updateLoadingValue(a,!1)):s.updateLoadingValue(a,!1)}).catch(function(e){e&&s.updateLoadingValue(a,!1)}).then(function(){s.updateLoadingValue(a,!1),s.appLoading=!1})},startLoading:function(e){this.loading[e]||this.updateLoadingValue(e,!0)},updateLoadingValue:function(e,t){this.loading[e]=t,this.loading=this.loading.slice(0)},pageChanged:function(e){this.searchShop(e),this.pageData.currentPage=e},handleOk:function(e){e.preventDefault(),this.loadingTransfer=!0;var t="";this.errBankAcc=!1,this.errBankName=!1,this.errEmail=!1,this.errBank=!1,this.errBankBrand=!1,this.bankAccount&&this.bankName&&this.selected.bank&&this.selected.bankBrand?(this.notEmpty="",this.successModel=!0,this.errBankAcc=!1,this.errBankName=!1,this.errEmail=!1,this.errBank=!1,this.errBankBrand=!1,this.$refs.select_banks_model.submit(this.errBank,this.errBankBrand),t={email:this.againstEmail,bank:this.selected.bank,bank_brand:this.selected.bankBrand,bank_account:this.bankAccount,bankName:this.bankName,shop_code:this.sendShopCode},this.handleSubmit(t)):(this.bankAccount||(this.errBankAcc=!0),this.bankName||(this.errBankName=!0),this.selected.bank||(this.errBank=!0),this.selected.bankBrand||(this.errBankBrand=!0),this.notEmpty="Không được để trống thông tin",this.successModel=!1,this.errEditBankInfo=!1,this.loadingTransfer=!1,this.$refs.select_banks_model.submit(this.errBank,this.errBankBrand))},handleSubmit:function(e){var t=this;this.loadingTransfer=!0,B.a.saveBankInfo(e).then(function(e){e.data.success?(t.$refs.myModalRefTransfer.hide(),t.searchShop(t.pageData.currentPage,!0,7),t.loadingTransfer=!1,t.errEditBankInfo=!1,t.successModel=!0):(t.loadingTransfer=!1,t.message=e.data.message_error,t.errEmail=e.data.error.errEmail,t.errBankName=e.data.error.errBankName,t.errBankAcc=e.data.error.errBankAcc,t.errEditBankInfo=!0)})},editBankInfo:function(e,t,a,s,i){var o=this;this.$refs.myModalRefTransfer.show(),this.errBankAcc=!1,this.errBankName=!1,this.errEmail=!1,this.errBank=!1,this.errBankBrand=!1,this.errEditBankInfo=!1,this.successModel=!0,this.$refs.select_banks_model.submit(this.errBank,this.errBankBrand);var l={shop_code:e};this.sendShopCode=e,this.bankAccount=t,this.bankName=a,this.againstEmail=s,this.$refs.select_banks_model.fillOption(l),c.a.get(n.a.baseApiUrl+"AdShopBank/getInvalidShop/"+i).then(function(e){e.data.success&&(o.invalidShop=e.data.data)})}},computed:{totalItems:function(){return this.listBills.length},totalPages:function(){return Math.ceil(this.totalItems/this.perPage)}},watch:{selectErBankOwn:function(e){this.selectedErBankOwn=e.map(function(e){return e.code})},selectErBankAccount:function(e){this.selectedErBankAccount=e.map(function(e){return e.code})}},filters:{shopStatus:function(e){return e?"1"===e?"Đang làm việc":"2"===e?"Đã dừng":"3"===e?"Chưa kiểm duyệt":"Tiếp tục liên hệ":""}}};var $=function(e){a("6aA6"),a("QeBn")},L=Object(d.a)(E,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"ui-block"},[a("b-form-row",[a("h4",{staticClass:"ui-block-heading col-md-10"},[e._v("Quản lý Shop sai thông tin ngân hàng")])]),e._v(" "),a("div",[a("form",[a("div",{staticClass:"form-filter"},[a("b-form-row",[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Mã shop"}},[a("b-input",{attrs:{type:"text",placeholder:"Nhiều mã cách nhau bởi dấu phẩy"},model:{value:e.shops.shop_code,callback:function(t){e.$set(e.shops,"shop_code",t)},expression:"shops.shop_code"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Email"}},[a("b-input",{attrs:{type:"text",placeholder:"Nhiều email cách nhau bởi dấu phẩy"},model:{value:e.shops.shop_email,callback:function(t){e.$set(e.shops,"shop_email",t)},expression:"shops.shop_email"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Tên"}},[a("b-input",{attrs:{type:"text",placeholder:"Nhiều tên cách nhau bởi dấu phẩy"},model:{value:e.shops.shop_name,callback:function(t){e.$set(e.shops,"shop_name",t)},expression:"shops.shop_name"}})],1)],1)]),e._v(" "),a("b-form-row",[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Điện thoại"}},[a("b-input",{attrs:{type:"text",placeholder:"Nhiều số điện thoại cách nhau bởi dấu phẩy"},model:{value:e.shops.shop_tel,callback:function(t){e.$set(e.shops,"shop_tel",t)},expression:"shops.shop_tel"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Trạng thái shop"}},[a("select-shop-stt",{ref:"select_shopStt",on:{selected:function(t){e.selected.shopStt=t}}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Kiểu shop"}},[a("select-shop-type",{ref:"select_shopType",on:{selected:function(t){e.selected.shopType=t}}})],1)],1)]),e._v(" "),a("b-form-row",[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Chọn kho"}},[a("select-stations",{ref:"select_stations",on:{selected:function(t){e.selected.stations=t}}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Thời gian"}},[a("multiselect",{attrs:{"track-by":"name",label:"name",placeholder:"Chọn kiểu thời gian",options:e.timeType,selectLabel:"",selectedLabel:"",deselectLabel:"","allow-empty":!1},model:{value:e.selectTimeType,callback:function(t){e.selectTimeType=t},expression:"selectTimeType"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-2"},[a("b-form-group",{attrs:{label:"Từ:"}},[a("datepicker",{staticClass:"from-date",attrs:{bootstrapStyling:!0,format:e.customFormatter,"clear-button":!0,typeable:!0,disabled:e.inputDisable},on:{cleared:function(t){e.from=""},selected:e.dateSelectedFromInChild},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-2"},[a("b-form-group",{attrs:{label:"Đến:"}},[a("datepicker",{staticClass:"to-date",attrs:{bootstrapStyling:!0,format:e.customFormatter,"clear-button":!0,typeable:!0,disabled:e.inputDisable},on:{cleared:function(t){e.to=""},selected:e.dateSelectedToInChild},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1)]),e._v(" "),a("b-form-row",[a("select-province-and-district",{ref:"select_province_district",on:{getProvince:function(t){e.selected.province=t},getDistrict:function(t){e.selected.district=t}}}),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"CSKH"}},[a("select-ctmCare",{ref:"select_ctmCare",on:{selected:function(t){e.selected.ctmCare=t}}})],1)],1)],1),e._v(" "),a("b-form-row",[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Người tạo"}},[a("select-user-shop",{ref:"select_user_created",on:{selected:function(t){e.selected.user_created=t}}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Người gửi mail"}},[a("select-user-shop",{ref:"select_user_email",on:{selected:function(t){e.selected.user_email=t}}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Người quản lý"}},[a("select-user-shop",{ref:"select_user_manager",on:{selected:function(t){e.selected.user_manager=t}}})],1)],1)]),e._v(" "),a("b-form-row",[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Sai tên người hưởng"}},[a("multiselect",{attrs:{"track-by":"code",return:"code",label:"name",placeholder:"Chọn kiểu sai thông tin",options:e.typeErrorBankOwn,selectLabel:"",selectedLabel:"",deselectLabel:"",multiple:!0},model:{value:e.selectErBankOwn,callback:function(t){e.selectErBankOwn=t},expression:"selectErBankOwn"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Sai số tài khoản"}},[a("multiselect",{attrs:{"track-by":"code",label:"name",placeholder:"Chọn kiểu sai thông tin",options:e.typeErrorBankAccount,selectLabel:"",selectedLabel:"",deselectLabel:"",multiple:!0},model:{value:e.selectErBankAccount,callback:function(t){e.selectErBankAccount=t},expression:"selectErBankAccount"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Kiểu đối soát"}},[a("multiselect",{attrs:{"track-by":"name",label:"name",placeholder:"Chọn kiểu đối soát",options:e.auditType,selectLabel:"",selectedLabel:"",deselectLabel:"","allow-empty":!1},model:{value:e.selectAuditType,callback:function(t){e.selectAuditType=t},expression:"selectAuditType"}})],1)],1)]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkboxAuditing,expression:"checkboxAuditing"}],attrs:{type:"checkbox",name:"Auditing"},domProps:{value:1,checked:Array.isArray(e.checkboxAuditing)?e._i(e.checkboxAuditing,1)>-1:e.checkboxAuditing},on:{click:function(t){return e.checkAuditing(t)},change:function(t){var a=e.checkboxAuditing,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=e._i(a,1);s.checked?i<0&&(e.checkboxAuditing=a.concat([1])):i>-1&&(e.checkboxAuditing=a.slice(0,i).concat(a.slice(i+1)))}else e.checkboxAuditing=n}}}),e._v("\n            Shop có đơn đang chờ đối soát\n          ")])],1),e._v(" "),a("b-form-row",[a("div",{staticClass:"align-content-center center"},[a("ladda-btn",{staticClass:"btn",attrs:{"data-style":"zoom-out"},nativeOn:{click:function(t){return e.resetForm(t)}}},[e._v("\n              Nhập lại\n            ")]),e._v(" "),a("ladda-btn",{staticClass:"btn btn-success",attrs:{loading:e.loading[7],"data-style":"zoom-out"},nativeOn:{click:function(t){return e.searchShop(e.pageData.currentPage,!0,7)}}},[a("i",{staticClass:"sidenav-icon ion ion-md-search"}),e._v("\n              Tìm kiếm\n            ")])],1)]),e._v(" "),a("div",[a("b-modal",{ref:"myModalRefTransfer",attrs:{title:"Sửa thông tin ngân hàng","modal-class":"model_bank",size:"400","ok-title":"Lưu","cancel-title":"Đóng",static:""},on:{ok:e.handleOk}},[!1===e.successModel?a("div",{staticClass:"no-data"},[a("b-alert",{attrs:{show:"",dismissible:"",variant:"warning"}},[a("i",{staticClass:"sidenav-icon ion ion-ios-warning"}),e._v("\n                "+e._s(e.notEmpty)+"\n              ")])],1):e._e(),e._v(" "),e._l(e.message,function(t){return e.errEditBankInfo?a("div",[a("b-alert",{attrs:{show:"",dismissible:"",variant:"warning"}},[a("i",{staticClass:"sidenav-icon ion ion-ios-warning"}),e._v("\n                "+e._s(t)+"\n              ")])],1):e._e()}),e._v(" "),a("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("b-form-group",[a("b-form-group",{staticClass:"col mb-0"},[a("label",{staticClass:"font-weight-bold"},[e._v("Email")]),e._v("  "),a("label",{staticClass:"text-danger"},[e._v(e._s(e.invalidShop.invalid_email))]),e._v(" "),a("b-input",{class:{errorClass:e.errEmail},attrs:{placeholder:"Nhập email đối soát",type:"text"},nativeOn:{keyup:function(t){e.errEmail=!1}},model:{value:e.againstEmail,callback:function(t){e.againstEmail=t},expression:"againstEmail"}})],1)],1),e._v(" "),a("b-form-group",[a("b-form-group",{staticClass:"col mb-0"},[a("label",{staticClass:"font-weight-bold"},[e._v("Chủ tài khoản NH")]),e._v("  "),a("label",{staticClass:"text-danger"},[e._v(e._s(e.invalidShop.invalid_bank_own))]),e._v(" "),a("b-input",{class:{errorClass:e.errBankName},attrs:{placeholder:"Nguyễn Văn A",type:"text"},nativeOn:{keyup:function(t){e.errBankName=!1}},model:{value:e.bankName,callback:function(t){e.bankName=t},expression:"bankName"}})],1)],1),e._v(" "),a("b-form-group",[a("b-form-group",{staticClass:"col"},[a("label",{staticClass:"font-weight-bold"},[e._v("Số TK")]),e._v("  "),a("label",{staticClass:"text-danger"},[e._v(e._s(e.invalidShop.invalid_bank_account))]),e._v(" "),a("b-input",{class:{errorClass:e.errBankAcc},attrs:{placeholder:"0987xxxxxx",type:"text"},nativeOn:{keyup:function(t){e.errBankAcc=!1}},model:{value:e.bankAccount,callback:function(t){e.bankAccount=t},expression:"bankAccount"}})],1)],1),e._v(" "),a("b-form-group",[a("select-bank-model",{ref:"select_banks_model",on:{selectedBank:function(t){e.selected.bank=t},selectedBankBrand:function(t){e.selected.bankBrand=t}}})],1)],1)],2)],1)],1)]),e._v(" "),e.checkResult?a("div",{staticClass:"result",attrs:{id:"results"}},[e.listShops.length>0?a("b-card",{attrs:{"no-body":""}},[a("div",{staticClass:"table-result"},[a("b-card-body",{staticClass:"pt-0 pb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm pt-3"},[a("b-pagination",{attrs:{"total-rows":e.pageData.totalItems,"per-page":e.pageData.perPage},on:{change:e.pageChanged},model:{value:e.pageData.currentPage,callback:function(t){e.$set(e.pageData,"currentPage",t)},expression:"pageData.currentPage"}}),e._v("\n                Tổng số shop: "+e._s(e.pageData.totalItems)+"\n              ")],1),e._v(" "),a("div",{staticClass:"col-sm text-sm-left text-center pt-3"},[e.pageData.totalItems?a("span",{staticClass:"text-muted"},[e._v("Trang "+e._s(e.pageData.currentPage)+" trên "+e._s(e.pageData.totalPages))]):e._e()])])]),e._v(" "),a("div",{staticClass:"table-responsive mb-4"},[a("table",{staticClass:"table mb-0 table-bordered table-striped"},[a("thead",{staticStyle:{width:"100%"}},[a("tr",[a("th",{attrs:{width:"45%"}},[e._v("Thông tin shop")]),e._v(" "),a("th",{attrs:{width:"45%"}},[e._v("Thông tin tài khoản")]),e._v(" "),a("th",{attrs:{width:"5%"}},[e._v("Thao tác")])])]),e._v(" "),a("tbody",e._l(e.listShops,function(t){return a("tr",{staticClass:"tr-bill"},[a("td",[1==t.Shop.shop_type?a("span",{staticClass:"badge align-text-bottom badge-success"},[e._v("PRO")]):e._e(),e._v(" "),2==t.Shop.shop_type?a("span",{staticClass:"badge align-text-bottom badge-danger"},[e._v("VIP")]):e._e(),e._v(" "),3==t.Shop.shop_type?a("span",{staticClass:"badge align-text-bottom badge-info"},[e._v("PRE")]):e._e(),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v(e._s(t.Shop.code)+" - "+e._s(t.Shop.name))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Số ĐT: ")]),a("span",[e._v(e._s(t.Shop.tel))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Email: ")]),a("span",[e._v(e._s(t.Shop.email))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Địa chỉ: ")]),a("span",[e._v(e._s(t.Shop.first_address))]),e._v(" "),a("br"),e._v(" "),e.isManageAllShop?a("span",[a("span",{staticClass:"font-weight-bold"},[e._v("Kho: ")]),a("span",[e._v(e._s(t.Shop.station_name))]),e._v(" "),a("br")]):e._e(),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Thời gian tạo: ")]),a("span",[e._v(e._s(t.Shop.created))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Người tạo: ")]),null===t.Shop.created_username?a("span",[e._v("Shop tự đăng ký")]):e._e(),e._v(" "),a("span",[e._v(e._s(t.Shop.created_username))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("CSKH: ")]),a("span",[e._v(e._s(t.Shop.ctm_care))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Trạng thái: ")]),a("span",[e._v(e._s(e._f("shopStatus")(t.Shop.shop_status_id)))]),e._v(" "),a("br")]),e._v(" "),a("td",{staticClass:"bill-info"},[a("span",{staticClass:"font-weight-bold"},[e._v("Tên người liên hệ: ")]),a("span",[e._v(e._s(t.Shop.against_fullname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Điện thoại: ")]),a("span",[e._v(e._s(t.Shop.against_tel))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Email: ")]),a("span",[e._v(e._s(t.Shop.against_email))]),e._v(" "),null!=t.InvalidBankInfo.invalid_email?a("span",{staticClass:"text-danger"},[e._v("  "+e._s(t.InvalidBankInfo.invalid_email))]):e._e(),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Chủ tài khoản ngân hàng: ")]),a("span",[e._v(e._s(t.Shop.against_bank_own))]),e._v(" "),null!=t.InvalidBankInfo.invalid_bank_own?a("span",{staticClass:"text-danger"},[e._v("  "+e._s(t.InvalidBankInfo.invalid_bank_own))]):e._e(),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Số tài khoản ngân hàng: ")]),a("span",[e._v(e._s(t.Shop.against_bank_account))]),e._v(" "),null!=t.InvalidBankInfo.invalid_bank_account?a("span",{staticClass:"text-danger"},[e._v("  "+e._s(t.InvalidBankInfo.invalid_bank_account))]):e._e(),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Ngân hàng: ")]),""===t.Shop.bank_name?a("span",[e._v(e._s(t.Shop.against_bank_name))]):e._e(),e._v(" "),a("span",[e._v(e._s(t.Shop.bank_name))]),a("br"),e._v(" "),a("span",{staticClass:"font-weight-bold"},[e._v("Chi nhánh ngân hàng: ")]),""===t.Shop.brand_name?a("span",[e._v(e._s(t.Shop.against_bank_brand))]):e._e(),e._v(" "),a("span",[e._v(e._s(t.Shop.brand_name))]),a("br")]),e._v(" "),a("td",[a("ladda-btn",{staticClass:"btn btn-success",attrs:{"data-style":"zoom-out"},nativeOn:{click:function(a){return e.editBankInfo(t.Shop.code,t.Shop.against_bank_account,t.Shop.against_bank_own,t.Shop.against_email,t.Shop.order)}}},[a("i",{staticClass:"sidenav-icon ion ion-md-create"}),e._v("\n                    Sửa\n                  ")])],1)])}),0)])]),e._v(" "),a("b-card-body",{staticClass:"pt-0 pb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm pt-3"},[a("b-pagination",{attrs:{"total-rows":e.pageData.totalItems,"per-page":e.pageData.perPage},on:{change:e.pageChanged},model:{value:e.pageData.currentPage,callback:function(t){e.$set(e.pageData,"currentPage",t)},expression:"pageData.currentPage"}})],1),e._v(" "),a("div",{staticClass:"col-sm text-sm-left text-center pt-3"},[e.pageData.totalItems?a("span",{staticClass:"text-muted"},[e._v("Trang "+e._s(e.pageData.currentPage)+" trên "+e._s(e.pageData.totalPages))]):e._e()])])])],1)]):e._e(),e._v(" "),0==e.listShops.length?a("div",{staticClass:"no-data"},[a("b-alert",{attrs:{show:"",dismissible:"",variant:"warning"}},[a("i",{staticClass:"sidenav-icon ion ion-ios-warning"}),e._v("\n          Không có dữ liệu phù hợp, vui lòng thử lại.\n        ")])],1):e._e()],1):e._e(),e._v(" "),a("loading-mini-bottom",{attrs:{enable:e.appLoading}}),e._v(" "),e.loadingTransfer?a("BlockUI",{attrs:{message:"",html:e.htmlTransfer}}):e._e()],1)])},[],!1,$,"data-v-35ccdd7f",null);t.default=L.exports},"J/c9":function(e,t){},QeBn:function(e,t){},i56v:function(e,t){},"zgi/":function(e,t){}});