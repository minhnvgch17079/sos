webpackJsonp([64],{"2Qvc":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("PJh5"),s=n.n(a),i=n("Bo22"),o=n.n(i),l=n("qaB4"),c=n("RUzx"),d=n.n(c),r=n("YmGg"),h={name:"select-city-province-stations",props:{disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn kho"}},components:{Multiselect:d.a,salaryService:r.a},data:function(){return{stations:[],selectedStations:[]}},methods:{getOptions:function(){var t=this;r.a.getListCityAndProvinceStation().then(function(e){e.data.success&&(t.stations=e.data.data.stations,t.multiple||t.stations.unshift({code:"",name:t.placeholder}))}).catch(function(t){})},onSelect:function(t,e){if(this.multiple){var n=[];if(this.selectedStations.length>0)for(var a=0;a<this.selectedStations.length;a++)n.push(this.selectedStations[a].code);n.push(t.code),this.$emit("selected",n)}else this.selectedStations=t.code,this.$emit("selected",this.selectedStations)},onRemove:function(t){var e=[];if(this.multiple){for(var n=0;n<this.selectedStations.length;n++)this.selectedStations[n].code!==t.code&&e.push(this.selectedStations[n].code);this.$emit("selected",e)}},reset:function(){this.selectedStations=this.multiple?[]:""}},created:function(){this.getOptions()}},u=n("XyMi");var f=function(t){n("h0M9")},m=Object(u.a)(h,function(){var t=this,e=t.$createElement;return(t._self._c||e)("multiselect",{attrs:{options:t.stations,multiple:t.multiple,disabled:t.disabled,placeholder:t.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:t.onSelect,remove:t.onRemove},model:{value:t.selectedStations,callback:function(e){t.selectedStations=e},expression:"selectedStations"}})},[],!1,f,"data-v-7b1dc056",null).exports,v=n("IC97"),p={name:"export-office-staff-online-salary",metaInfo:{title:"Xuất bảng lương nhân viên văn phòng theo kho"},components:{LaddaBtn:l.a,VueMonthlyPicker:o.a,SelectCityProvinceStations:m,salaryService:r.a,Datepicker:v.a},data:function(){return{one:{visible:!0,selectedDate:"",selectedStations:"",responseMessage:{}}}},methods:{setSelectedStation:function(t){this.one.selectedStations=t},exportOfficeStaff:function(){var t=this;if(this.one.selectedDate&&!this.one.stationIds){var e={date:s()(this.one.selectedDate).format("YYYY-MM-DD"),station_id:this.one.selectedStations};r.a.exportOfficeStaff(e).then(function(e){t.one.responseMessage=e.data,e.data.hasOwnProperty("success")&&!0===e.data.success&&window.open(e.data.file_path,"_blank")}).then(function(){t.one.loadingButton=!1})}}}},b=Object(u.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("hr",{staticClass:"border-light container-m--x mt-0 mb-5"}),t._v(" "),n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",[n("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion1",modifiers:{accordion1:!0}}],staticClass:"d-flex justify-content-between text-dark",attrs:{href:"javascript:void(0)"}},[t._v("\n                Xuất lương nhân viên văn phòng theo kho\n                "),n("div",{staticClass:"collapse-icon"})])]),t._v(" "),n("b-collapse",{attrs:{id:"accordion1",visible:t.one.visible,accordion:"accordion"}},[n("b-card-body",[n("div",{staticClass:"form-row"},[n("div",{staticClass:"col-md mb-4"},[n("b-form-group",{attrs:{label:"Chọn kho (Chỉ có thể chọn được 1 kho)"}},[n("select-city-province-stations",{attrs:{multiple:!1},on:{selected:t.setSelectedStation}})],1)],1)]),t._v(" "),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col-md mb-4"},[n("label",{staticClass:"form-label"},[t._v("Chọn ngày (Từ đầu kỳ lương đến ngày hiện tại)")]),t._v(" "),n("datepicker",{attrs:{format:"dd-MM-yyyy",bootstrapStyling:!0,"monday-first":!0,"full-month-name":!0,placeholder:"Ngày xuất lương",required:!0,"calendar-button":!0,"calendar-button-icon":"ion ion-md-calendar","clear-button":!0},model:{value:t.one.selectedDate,callback:function(e){t.$set(t.one,"selectedDate",e)},expression:"one.selectedDate"}})],1),t._v(" "),n("div",{staticClass:"col-md col-xl-2 mb-4"},[n("label",{staticClass:"form-label d-none d-md-block"},[t._v(" ")]),t._v(" "),n("ladda-btn",{staticClass:"btn btn-primary",staticStyle:{width:"100%"},attrs:{loading:t.one.loadingButton,"data-style":"expand-right"},nativeOn:{click:function(e){return t.exportOfficeStaff(e)}}},[t._v("\n                            Export\n                        ")])],1)])])],1)],1)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"d-flex justify-content-between align-items-center w-100 font-weight-bold py-3 mb-4"},[e("div",[this._v("Xuất bảng lương nhân viên văn phòng theo kho")])])}],!1,null,null,null);e.default=b.exports},h0M9:function(t,e){}});