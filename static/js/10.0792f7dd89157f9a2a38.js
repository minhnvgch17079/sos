webpackJsonp([10],{"//Fk":function(t,e,i){t.exports={default:i("U5ju"),__esModule:!0}},"1H6C":function(t,e,i){var n=function(){return this}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,r=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=i("HhN8"),a)n.regeneratorRuntime=r;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},"2KxR":function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},"82Mu":function(t,e,i){var n=i("7KvD"),a=i("L42u").set,r=n.MutationObserver||n.WebKitMutationObserver,s=n.process,o=n.Promise,c="process"==i("R9M2")(s);t.exports=function(){var t,e,i,l=function(){var n,a;for(c&&(n=s.domain)&&n.exit();t;){a=t.fn,t=t.next;try{a()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(c)i=function(){s.nextTick(l)};else if(!r||n.navigator&&n.navigator.standalone)if(o&&o.resolve){var d=o.resolve(void 0);i=function(){d.then(l)}}else i=function(){a.call(n,l)};else{var u=!0,h=document.createTextNode("");new r(l).observe(h,{characterData:!0}),i=function(){h.data=u=!u}}return function(n){var a={fn:n,next:void 0};e&&(e.next=a),t||(t=a,i()),e=a}}},ADCv:function(t,e){},CXw9:function(t,e,i){"use strict";var n,a,r,s,o=i("O4g8"),c=i("7KvD"),l=i("+ZMJ"),d=i("RY/4"),u=i("kM2E"),h=i("EqjI"),f=i("lOnJ"),v=i("2KxR"),p=i("NWt+"),m=i("t8x9"),_=i("L42u").set,g=i("82Mu")(),b=i("qARP"),y=i("dNDb"),C=i("iUbK"),w=i("fJUb"),x=c.TypeError,k=c.process,S=k&&k.versions,P=S&&S.v8||"",O=c.Promise,M="process"==d(k),j=function(){},E=a=b.f,D=!!function(){try{var t=O.resolve(1),e=(t.constructor={})[i("dSzd")("species")]=function(t){t(j,j)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof e&&0!==P.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(t){}}(),L=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var i=t._c;g(function(){for(var n=t._v,a=1==t._s,r=0,s=function(e){var i,r,s,o=a?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{o?(a||(2==t._h&&T(t),t._h=1),!0===o?i=n:(d&&d.enter(),i=o(n),d&&(d.exit(),s=!0)),i===e.promise?l(x("Promise-chain cycle")):(r=L(i))?r.call(i,c,l):c(i)):l(n)}catch(t){d&&!s&&d.exit(),l(t)}};i.length>r;)s(i[r++]);t._c=[],t._n=!1,e&&!t._h&&N(t)})}},N=function(t){_.call(c,function(){var e,i,n,a=t._v,r=Y(t);if(r&&(e=y(function(){M?k.emit("unhandledRejection",a,t):(i=c.onunhandledrejection)?i({promise:t,reason:a}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",a)}),t._h=M||Y(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},Y=function(t){return 1!==t._h&&0===(t._a||t._c).length},T=function(t){_.call(c,function(){var e;M?k.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},$=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},F=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw x("Promise can't be resolved itself");(e=L(t))?g(function(){var n={_w:i,_d:!1};try{e.call(t,l(F,n,1),l($,n,1))}catch(t){$.call(n,t)}}):(i._v=t,i._s=1,R(i,!1))}catch(t){$.call({_w:i,_d:!1},t)}}};D||(O=function(t){v(this,O,"Promise","_h"),f(t),n.call(this);try{t(l(F,this,1),l($,this,1))}catch(t){$.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i("xH/j")(O.prototype,{then:function(t,e){var i=E(m(this,O));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=M?k.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&R(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new n;this.promise=t,this.resolve=l(F,t,1),this.reject=l($,t,1)},b.f=E=function(t){return t===O||t===s?new r(t):a(t)}),u(u.G+u.W+u.F*!D,{Promise:O}),i("e6n0")(O,"Promise"),i("bRrM")("Promise"),s=i("FeBl").Promise,u(u.S+u.F*!D,"Promise",{reject:function(t){var e=E(this);return(0,e.reject)(t),e.promise}}),u(u.S+u.F*(o||!D),"Promise",{resolve:function(t){return w(o&&this===s?O:this,t)}}),u(u.S+u.F*!(D&&i("dY0y")(function(t){O.all(t).catch(j)})),"Promise",{all:function(t){var e=this,i=E(e),n=i.resolve,a=i.reject,r=y(function(){var i=[],r=0,s=1;p(t,!1,function(t){var o=r++,c=!1;i.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,i[o]=t,--s||n(i))},a)}),--s||n(i)});return r.e&&a(r.v),i.promise},race:function(t){var e=this,i=E(e),n=i.reject,a=y(function(){p(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return a.e&&n(a.v),i.promise}})},EqBC:function(t,e,i){"use strict";var n=i("kM2E"),a=i("FeBl"),r=i("7KvD"),s=i("t8x9"),o=i("fJUb");n(n.P+n.R,"Promise",{finally:function(t){var e=s(this,a.Promise||r.Promise),i="function"==typeof t;return this.then(i?function(i){return o(e,t()).then(function(){return i})}:t,i?function(i){return o(e,t()).then(function(){throw i})}:t)}})},HhN8:function(t,e){!function(e){"use strict";var i,n=Object.prototype,a=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag",l="object"==typeof t,d=e.regeneratorRuntime;if(d)l&&(t.exports=d);else{(d=e.regeneratorRuntime=l?t.exports:{}).wrap=y;var u="suspendedStart",h="suspendedYield",f="executing",v="completed",p={},m={};m[s]=function(){return this};var _=Object.getPrototypeOf,g=_&&_(_(D([])));g&&g!==n&&a.call(g,s)&&(m=g);var b=k.prototype=w.prototype=Object.create(m);x.prototype=b.constructor=k,k.constructor=x,k[c]=x.displayName="GeneratorFunction",d.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},d.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(b),t},d.awrap=function(t){return{__await:t}},S(P.prototype),P.prototype[o]=function(){return this},d.AsyncIterator=P,d.async=function(t,e,i,n){var a=new P(y(t,e,i,n));return d.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},S(b),b[c]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},d.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},d.values=D,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,a){return o.type="throw",o.arg=t,e.next=n,a&&(e.method="next",e.arg=i),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var c=a.call(s,"catchLoc"),l=a.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),j(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var a=n.arg;j(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=i),p}}}function y(t,e,i,n){var a=e&&e.prototype instanceof w?e:w,r=Object.create(a.prototype),s=new E(n||[]);return r._invoke=function(t,e,i){var n=u;return function(a,r){if(n===f)throw new Error("Generator is already running");if(n===v){if("throw"===a)throw r;return L()}for(i.method=a,i.arg=r;;){var s=i.delegate;if(s){var o=O(s,i);if(o){if(o===p)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===u)throw n=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var c=C(t,e,i);if("normal"===c.type){if(n=i.done?v:h,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=v,i.method="throw",i.arg=c.arg)}}}(t,i,s),r}function C(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function w(){}function x(){}function k(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function P(t){var e;this._invoke=function(i,n){function r(){return new Promise(function(e,r){!function e(i,n,r,s){var o=C(t[i],t,n);if("throw"!==o.type){var c=o.arg,l=c.value;return l&&"object"==typeof l&&a.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,r,s)},function(t){e("throw",t,r,s)}):Promise.resolve(l).then(function(t){c.value=t,r(c)},s)}s(o.arg)}(i,n,e,r)})}return e=e?e.then(r,r):r()}}function O(t,e){var n=t.iterator[e.method];if(n===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,O(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=C(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,p;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,p):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function D(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(a.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=i,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},KOsj:function(t,e){},L42u:function(t,e,i){var n,a,r,s=i("+ZMJ"),o=i("knuC"),c=i("RPLV"),l=i("ON07"),d=i("7KvD"),u=d.process,h=d.setImmediate,f=d.clearImmediate,v=d.MessageChannel,p=d.Dispatch,m=0,_={},g=function(){var t=+this;if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},b=function(t){g.call(t.data)};h&&f||(h=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return _[++m]=function(){o("function"==typeof t?t:Function(t),e)},n(m),m},f=function(t){delete _[t]},"process"==i("R9M2")(u)?n=function(t){u.nextTick(s(g,t,1))}:p&&p.now?n=function(t){p.now(s(g,t,1))}:v?(r=(a=new v).port2,a.port1.onmessage=b,n=s(r.postMessage,r,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(t){d.postMessage(t+"","*")},d.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),g.call(t)}}:function(t){setTimeout(s(g,t,1),0)}),t.exports={set:h,clear:f}},"NWt+":function(t,e,i){var n=i("+ZMJ"),a=i("msXi"),r=i("Mhyx"),s=i("77Pl"),o=i("QRG4"),c=i("3fs2"),l={},d={};(e=t.exports=function(t,e,i,u,h){var f,v,p,m,_=h?function(){return t}:c(t),g=n(i,u,e?2:1),b=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(r(_)){for(f=o(t.length);f>b;b++)if((m=e?g(s(v=t[b])[0],v[1]):g(t[b]))===l||m===d)return m}else for(p=_.call(t);!(v=p.next()).done;)if((m=a(p,g,v.value,e))===l||m===d)return m}).BREAK=l,e.RETURN=d},OFpK:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Xxa5"),a=i.n(n),r=i("exGp"),s=i.n(r),o=i("fZjL"),c=i.n(o),l=i("mvHQ"),d=i.n(l),u=i("RUzx"),h=i.n(u),f=i("Zx67"),v=i.n(f),p=i("Zrlr"),m=i.n(p),_=i("wxAW"),g=i.n(_),b=i("zwoO"),y=i.n(b),C=i("Pf15"),w=i.n(C),x=function(t){function e(){return m()(this,e),y()(this,(e.__proto__||v()(e)).apply(this,arguments))}return w()(e,t),g()(e,[{key:"getStatusName",value:function(t){return e.listStatus[t]}},{key:"getStatusClass",value:function(t){switch(t){case"contact":return"badge badge-default";case"interview":return"badge badge-primary";case"official":return"badge badge-success";case"rejected":return"badge badge-danger";case"probation":return"badge badge-info";case"resigned":return"badge badge-secondary";default:return"badge badge-default"}}},{key:"getStatusOptions",value:function(){var t=[],i=e.listStatus;return c()(i).forEach(function(e){t.push({value:e,name:i[e]})}),t}}]),e}(i("MUME").a);x.listStatus={contact:"Cần liên hệ",interview:"Đang phỏng vấn",saveinfo:"Lưu thông tin",expect_join:"Dự kiến nhận việc",collaborators:"Cộng tác viên",business_coop:"Hợp tác kinh doanh",probation:"Đang thử việc",official:"Nhân viên chính thức",rejected:"Không trúng tuyển",refused:"Từ chối nhận việc",resigned:"Đã nghỉ việc"};var k=x,S=i("l48y"),P=i("F/2K"),O=i("qOi5"),M=i("HhAh"),j=i.n(M),E=i("phbQ"),D={name:"single-select-candidate-referrer",components:{Multiselect:h.a},props:{referrerId:{type:String}},data:function(){return{searchQuery:"",referrerOption:null,referrerOptions:[],loading:!1}},created:function(){this.getRefferers()},watch:{referrerOption:function(t,e){this.$emit("handleChooseRefferer",t)},referrerId:function(t,e){var i=this,n=this.referrerOptions.find(function(e){return e.id===t});n?this.referrerOption=n:E.a.getBasicInfoById({id:t}).then(function(t){t.data.success&&t.data.data?(i.referrerOptions.push(t.data.data),i.referrerOption=t.data.data):i.referrerOption=null})}},methods:{displayLabel:function(t){var e=t.username;return t.fullname+" ("+e+")"},clear:function(){this.referrerOption=null,this.fetchData()},getRefferers:function(){this.fetchData("")},fetchData:function(t){this.searchQuery=t,this.debounceFetchData()},debounceFetchData:j()(function(){var t=this;this.referrerOption||(this.loading=!0,E.a.fetchDataForUserFilter({needle:this.searchQuery}).then(function(e){e.data.success&&(t.referrerOptions=e.data.data,null!==t.candidateReferrer&&(t.referrerOption=t.referrerOptions.find(function(e){return e.id===t.candidateReferrer})))}).catch(function(t){console.log(t)}).finally(function(){t.loading=!1}))},500)}},L=i("XyMi"),R=Object(L.a)(D,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mb-4"},[i("multiselect",{attrs:{options:t.referrerOptions,placeholder:"Chọn người giới thiệu","track-by":"username","custom-label":t.displayLabel,selectedLabel:"Đã chọn",deselectLabel:"Bỏ chọn",selectLabel:"Chọn",searchable:!0,loading:t.loading},on:{"search-change":t.fetchData,open:t.clear},model:{value:t.referrerOption,callback:function(e){t.referrerOption=e},expression:"referrerOption"}},[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Rất tiếc. Không tìm thấy.")])])],1)},[],!1,null,null,null).exports,N={name:"single-select-referral",components:{Multiselect:h.a},props:{referral:{type:String}},data:function(){return{selectedReferral:null,referralOptions:[{name:"Facebook / Internet",value:"facebook"},{name:"Quảng cáo ngoài trời",value:"outdoor"},{name:"Nhân viên GHTK",value:"ghtk"},{name:"Giới thiệu nội bộ",value:"employee"},{name:"Bạn bè",value:"friend"},{name:"Khác",value:"other"}]}},watch:{selectedReferral:function(t,e){this.$emit("on-select",t)},referral:function(t,e){this.selectedReferral=t?this.referralOptions.find(function(e){return e.value===t}):null}}},Y=Object(L.a)(N,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("multiselect",{attrs:{options:t.referralOptions,placeholder:"Chọn nguồn giới thiệu",label:"name","track-by":"name",selectedLabel:"Đã chọn",deselectLabel:"Bỏ chọn",selectLabel:"Chọn",searchable:!0},model:{value:t.selectedReferral,callback:function(e){t.selectedReferral=e},expression:"selectedReferral"}})],1)},[],!1,null,null,null).exports,T=i("bJ+M"),$={name:"single-select-candidate-position",components:{Multiselect:h.a},props:["jobId"],data:function(){return{positionOption:null,positionOptions:[]}},created:function(){this.getJobs()},watch:{jobId:function(t,e){if(t){var i=this.positionOptions.find(function(e){return e.id===t});this.positionOption=i||null}else this.positionOption=null},positionOption:function(t,e){this.$emit("handleChoosePosition",t)}},methods:{getJobs:function(){var t=this;T.a.getJobList().then(function(e){e.data.success&&(t.positionOptions=e.data.data)}).catch(function(t){console.log(t)})}}},F=Object(L.a)($,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mb-4"},[i("multiselect",{attrs:{options:t.positionOptions,placeholder:"Chọn vị trí ứng viên",label:"job_name","track-by":"job_name",selectedLabel:"Đã chọn",deselectLabel:"Bỏ chọn",selectLabel:"Chọn",searchable:!0},model:{value:t.positionOption,callback:function(e){t.positionOption=e},expression:"positionOption"}},[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Rất tiếc. Không tìm thấy.")])])],1)},[],!1,null,null,null).exports,I={name:"single-select-candidate-processor",components:{Multiselect:h.a},props:["processorId"],data:function(){return{selectedProcessor:null,processorIds:[]}},created:function(){this.getRefferers()},watch:{processorId:function(t,e){this.selectedProcessor=t?this.processorIds.find(function(e){return e.id===t}):null},selectedProcessor:function(t,e){this.$emit("handleChooseRefferer",t)}},methods:{customLabel:function(t){var e=t.fullname,i=t.username;return e+" ("+t.stationName+"-"+i+")"},getRefferers:function(){var t=this;T.a.getProcessorList().then(function(e){e.data.success&&(t.processorIds=e.data.data)}).catch(function(t){console.log(t)})}}},J=Object(L.a)(I,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mb-4"},[i("multiselect",{attrs:{options:t.processorIds,placeholder:"Chọn người xử lí","custom-label":t.customLabel,"track-by":"username",selectedLabel:"Đã chọn",deselectLabel:"Bỏ chọn",selectLabel:"Chọn",searchable:!0},model:{value:t.selectedProcessor,callback:function(e){t.selectedProcessor=e},expression:"selectedProcessor"}},[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Rất tiếc. Không tìm thấy.")])])],1)},[],!1,null,null,null).exports,B=i("QKlT"),K=i.n(B),U=i("PJh5"),A=i.n(U),G={name:"candidate-filter",components:{Multiselect:h.a,SingleSelectProfileRegion:S.a,SingleSelectProvince:P.a,SingleSelectDistrict:O.a,SingleSelectCandidateReferrer:R,SingleSelectReferral:Y,SingleSelectCandidatePosition:F,SingleSelectCandidateProcessors:J,flatPickr:K.a},props:["id","trigger","status","role","action"],data:function(){return{rangeConfig:{mode:"range",altInput:!0,altFormat:"d-m-Y",dateFormat:"d-m-Y"},dateFilter:"",filter:{region:"",province_id:"",district_id:"",referral:"",job_id:"",referrer_id:"",processor_id:""},dateFilterType:"",dateFilterOptions:[{value:"created",name:"Ngày vào"},{value:"expected_join_date",name:"Ngày dự kiến nhận việc"}]}},created:function(){},watch:{trigger:function(t,e){this.$refs.curModal.show()}},methods:{setRegion:function(t){this.filter.region=t.id},setProvince:function(t){this.filter.province_id=t.id},setDistrict:function(t){this.filter.district_id=t.id},setReferrer:function(t){this.filter.referrer_id=t?t.id:null},setReferral:function(t){this.filter.referral=t.value},setJob:function(t){this.filter.job_id=t.id},setProcessor:function(t){this.filter.processor_id=t.id},reset:function(){var t=this;this.dateFilter=null,this.dateFilterType=null,c()(this.filter).forEach(function(e){t.filter[e]=""}),this.$emit("search",this.filter)},search:function(){var t=this.dateFilter.split("to").map(function(t){return t.trim()});2===t.length?(this.filter.start_date=A()(t[0],"DD-MM-YYYY").format("YYYY-MM-DD"),this.filter.end_date=A()(t[1],"DD-MM-YYYY").format("YYYY-MM-DD")):(this.filter.start_date="",this.filter.end_date=""),this.$emit("search",this.filter)}}};var H=function(t){i("OEkN"),i("nlqq")},q=Object(L.a)(G,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-2"},[i("b-row",{staticClass:"low-height"},[i("b-col",[i("b-form-input",{attrs:{placeholder:"Tìm kiếm (Họ tên, CMND, SĐT, Email)"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.filter.search,callback:function(e){t.$set(t.filter,"search",e)},expression:"filter['search']"}})],1),t._v(" "),i("b-col",[i("b-form-input",{attrs:{placeholder:"Nhập mã nhân viên"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.filter.staff_code,callback:function(e){t.$set(t.filter,"staff_code",e)},expression:"filter['staff_code']"}})],1),t._v(" "),i("b-col",[i("single-select-profile-region",{attrs:{region:t.filter.region},on:{handleSelectedRegion:t.setRegion}})],1),t._v(" "),i("b-col",[i("single-select-province",{attrs:{"region-name":t.filter.region,"province-id":t.filter.province_id},on:{handleSelectedProvince:t.setProvince}})],1),t._v(" "),i("b-col",[i("single-select-district",{attrs:{"province-id":t.filter.province_id+"","district-id":t.filter.district_id},on:{handleSelectedDistrict:t.setDistrict}})],1),t._v(" "),i("b-col",[i("single-select-referral",{attrs:{referral:t.filter.referral},on:{"on-select":t.setReferral}})],1)],1),t._v(" "),i("b-row",{staticClass:"low-height"},[i("b-col",[i("single-select-candidate-referrer",{attrs:{"referrer-id":t.filter.referrer_id,placeholder:"Chọn người giới thiệu"},on:{handleChooseRefferer:t.setReferrer}})],1),t._v(" "),i("b-col",[i("single-select-candidate-processors",{attrs:{"processor-id":t.filter.processor_id},on:{handleChooseRefferer:t.setProcessor}})],1),t._v(" "),i("b-col",[i("single-select-candidate-position",{attrs:{"job-id":t.filter.job_id},on:{handleChoosePosition:t.setJob}})],1),t._v(" "),i("b-col",[i("multiselect",{attrs:{options:t.dateFilterOptions,label:"name",placeholder:"Tìm kiếm theo thời gian: "},model:{value:t.dateFilterType,callback:function(e){t.dateFilterType=e},expression:"dateFilterType"}})],1),t._v(" "),i("b-col",[i("flat-pickr",{staticClass:"mb-4",attrs:{config:t.rangeConfig,placeholder:"Chọn khoảng thời gian"},model:{value:t.dateFilter,callback:function(e){t.dateFilter=e},expression:"dateFilter"}})],1),t._v(" "),i("b-col",{staticClass:"text-right btn-wraper"},[i("b-btn",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.reset}},[t._v("Bỏ chọn")]),t._v(" "),i("b-btn",{attrs:{variant:"primary"},on:{click:t.search}},[t._v("Tìm kiếm")])],1)],1)],1)},[],!1,H,null,null).exports,X=i("VNpJ"),V={name:"select-candidate-status-buttons",components:{Multiselect:h.a},props:["quantity"],data:function(){return{currActive:"",statusOptions:[],count:[]}},created:function(){var t=this,e=new k;this.statusOptions=[{name:"Tất cả",value:"all"}],null!==this.quantity&&(this.count=this.quantity),e.getStatusOptions().forEach(function(e){t.statusOptions.push(e)}),this.statusOptions.forEach(function(e){t.count[e.value]=0}),this.currActive=""},watch:{quantity:function(t,e){var i=this;null!==t&&(this.count=this.quantity,this.statusOptions.forEach(function(t){null==i.count[t.value]&&(i.count[t.value]=0)}))}},methods:{switchStatus:function(t){this.currActive=t.name,this.$emit("on-change",t.value)}}};var z=function(t){i("ADCv")},Q=Object(L.a)(V,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row m-0 mt-1 mb-1 justify-content-between"},[t._l(t.statusOptions,function(e,n){return[i("b-button",{key:n,staticClass:"custom-button",class:t.currActive==e.name||"all"==e.value&&""==t.currActive?"active":"",attrs:{variant:"outline-primary"},on:{click:function(i){return t.switchStatus(e)}}},[t._v("\n              "+t._s(e.name)+" "),i("span",{staticClass:"badge badge-light"},[t._v(t._s(t.count[e.value]))])])]})],2)},[],!1,z,"data-v-ed024d10",null).exports,W={name:"single-select-date-range",components:{Multiselect:h.a},props:["candidateDate"],data:function(){return{dateOption:null,dateOptions:[{id:1,name:"Hôm nay",value:1},{id:2,name:"3 ngày gần nhất",value:3},{id:3,name:"1 tuần gần nhất",value:7},{id:4,name:"1 tháng gần nhất",value:30},{id:5,name:"2 tháng gần nhất",value:60},{id:6,name:"3 tháng gần nhất",value:90},{id:7,name:"6 tháng gần nhất",value:182},{id:8,name:"1 năm gần nhất",value:365}]}},watch:{candidateDate:function(t,e){null==t&&(this.dateOption=null)},dateOption:function(t,e){this.$emit("handleChooseDateRange",t)}}},Z=Object(L.a)(W,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mb-4"},[i("multiselect",{attrs:{options:t.dateOptions,placeholder:"Chọn khoảng thời gian",label:"name","track-by":"name",selectedLabel:"Đã chọn",deselectLabel:"Bỏ chọn",selectLabel:"Chọn",searchable:!1},model:{value:t.dateOption,callback:function(e){t.dateOption=e},expression:"dateOption"}},[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Rất tiếc. Không tìm thấy.")])])],1)},[],!1,null,null,null).exports,tt=i("hC/b"),et={name:"modal-edit-candidate",components:{SingleSelectProvince:P.a,SingleSelectDistrict:O.a,SingleSelectCandidatePosition:F,SingleSelectCandidateReferrer:R,Multiselect:h.a},props:["currEditing","trigger","type"],data:function(){return{candidate:{},province_register_id:null,province_now_id:null,cv_file:null,work_shift:null,referral:null,source:null,computedSourceOption:[],workshiftOptions:[{value:1,text:"Toàn thời gian"},{value:2,text:"Ca sáng"},{value:3,text:"Ca chiều"},{value:4,text:"Ca tối"},{value:5,text:"Chủ nhật"},{value:6,text:"Ca ngày"},{value:7,text:"Ca đêm"},{value:8,text:"Bán thời gian"}],referralOptions:[{text:"Facebook",value:"facebook"},{text:"Web tuyển dụng",value:"web"},{text:"Ngày hội việc làm",value:"workfes"},{text:"Dịch vụ GTVL",value:"gtvlservice"},{text:"Nhân viên GHTK",value:"ghtk"},{text:"Giới thiệu nội bộ",value:"employee"},{text:"Bạn bè, người thân",value:"friend"},{text:"CTV tuyển dụng",value:"collabor"},{text:"Khác",value:"other"}],sourceOptions:{facebook:[{text:"Ads",value:"ads"},{text:"Cá nhân",value:"personal"}],web:[{text:"Ybox",value:"ybox"},{text:"Vieclam24h",value:"vieclam24h"},{text:"Timviecnhanh",value:"timviecnhanh"},{text:"Jobsgo",value:"jobsgo"},{text:"Top CV",value:"topcv"},{text:"Career Builder",value:"career_builder"},{text:"Chợ tốt",value:"cho_tot"},{text:"Khác",value:"other"}]}}},watch:{currEditing:function(t,e){this.candidate=JSON.parse(d()(t));var i=this.referralOptions.find(function(e){return e.value===t.referral});if(i)if(this.referral=i,this.sourceOptions[i.value]){var n=this.sourceOptions[i.value].find(function(e){return e.value===t.source});n&&(this.source=n)}else this.source=null;else this.referral=null;var a=this.workshiftOptions.find(function(e){return e.value+""===t.work_shift});this.work_shift=a||null,this.province_register_id=this.candidate.province_register_id,this.province_now_id=this.candidate.province_now_id,this.$forceUpdate()},trigger:function(t,e){this.$refs["edit-modal"].show()},referral:function(t,e){t&&["facebook","web"].includes(t.value)?this.computedSourceOption=this.sourceOptions[t.value]:this.computedSourceOption=[]}},methods:{setJobId:function(t){if(!t)return this.candidate.job_id=null,void(this.candidate.job_name=null);this.candidate.job_id=t.id,this.candidate.job_name=t.name},setProvinceNow:function(t){if(!t)return this.candidate.province_now_id=null,this.candidate.province_now_name=null,void(this.province_now_id=null);this.candidate.province_now_id=t.id,this.candidate.province_now_name=t.name,this.province_now_id=t.id},setDistrictNow:function(t){if(!t)return this.candidate.district_now_id=null,void(this.candidate.district_now_name=null);this.candidate.district_now_id=t.id,this.candidate.district_now_name=t.name},setProvinceRegister:function(t){if(!t)return this.candidate.province_register_id=null,this.candidate.province_register_name=null,void(this.province_register_id=null);this.candidate.province_register_id=t.id,this.candidate.province_register_name=t.name,this.province_register_id=t.id},setDistrictRegister:function(t){if(!t)return this.candidate.district_register_id=null,void(this.candidate.district_register_name=null);this.candidate.district_register_id=t.id,this.candidate.district_register_name=t.name},setReferrer:function(t){this.candidate.referrer_id=t.id},updateCandidate:function(){var t=this;this.referral?this.candidate.referral=this.referral.value:this.candidate.referral=null,this.work_shift?this.candidate.work_shift=this.work_shift.value:this.candidate.work_shift=null,this.source?this.candidate.source=this.source.value:this.candidate.source=null;var e=new FormData;c()(this.candidate).forEach(function(i){"cv_file"!==i&&(t.candidate[i]?e.append(i,t.candidate[i]):e.append(i,""))}),this.cv_file&&e.append("cv_file",this.cv_file),"edit"===this.type?T.a.updateCandidate(e).then(function(e){e.data.success?(t.$emit("on-updated",e.data.data),tt.a.showMessage("Cập nhật thông tin ứng viên thành công","success"),t.$refs["edit-modal"].hide()):tt.a.showMessage(e.data.message,"fail")}):T.a.createCandidate(e).then(function(e){e.data.success?(t.$emit("on-updated",e.data.data),tt.a.showMessage("Tạo ứng viên thành công","success"),t.$refs["edit-modal"].hide()):tt.a.showMessage(e.data.message,"fail")})}}};var it=function(t){i("hBdn")},nt=Object(L.a)(et,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{ref:"edit-modal",attrs:{title:"Chỉnh sửa thông tin ứng viên",size:"lg","ok-only":"",static:"",centered:""}},[i("b-row",[i("b-col",{staticClass:"sperator-right",attrs:{md:"6"}},[i("b-row",[i("b-col",{attrs:{md:"6"}},[i("b-form-group",{attrs:{label:"Họ và tên"}},[i("b-form-input",{attrs:{placeholder:"Nhập họ và tên"},model:{value:t.candidate.name,callback:function(e){t.$set(t.candidate,"name",e)},expression:"candidate.name"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Số điện thoại"}},[i("b-form-input",{attrs:{placeholder:"Nhập số điện thoại"},model:{value:t.candidate.phone,callback:function(e){t.$set(t.candidate,"phone",e)},expression:"candidate.phone"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Ngày sinh"}},[i("b-form-input",{attrs:{type:"date",placeholder:"Chọn ngày sinh"},model:{value:t.candidate.birthday,callback:function(e){t.$set(t.candidate,"birthday",e)},expression:"candidate.birthday"}})],1)],1),t._v(" "),i("b-col",{attrs:{md:"6"}},[i("b-form-group",{attrs:{label:"Số CMND/CCCD"}},[i("b-form-input",{attrs:{placeholder:"Nhập số CMND/CCCD"},model:{value:t.candidate.identify_id,callback:function(e){t.$set(t.candidate,"identify_id",e)},expression:"candidate.identify_id"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Email"}},[i("b-form-input",{attrs:{placeholder:"Nhập Email"},model:{value:t.candidate.mail,callback:function(e){t.$set(t.candidate,"mail",e)},expression:"candidate.mail"}})],1),t._v(" "),i("b-form-group",{attrs:{label:"Giới tính"}},[i("b-form-radio-group",{attrs:{id:"radio-group-2",name:"radio-sub-component"},model:{value:t.candidate.gender,callback:function(e){t.$set(t.candidate,"gender",e)},expression:"candidate.gender"}},[i("b-form-radio",{attrs:{value:"male"}},[t._v("Nam")]),t._v(" "),i("b-form-radio",{attrs:{value:"female"}},[t._v("Nữ")])],1)],1)],1)],1),t._v(" "),i("b-row",[i("b-col",{attrs:{md:"12"}},[i("b-form-group",{attrs:{label:"Chỗ ở hiện tại:"}},[i("b-form-input",{staticClass:"mb-2",attrs:{placeholder:"Số nhà, tên đường"},model:{value:t.candidate.detail_now,callback:function(e){t.$set(t.candidate,"detail_now",e)},expression:"candidate.detail_now"}}),t._v(" "),i("single-select-province",{attrs:{"province-id":t.province_now_id},on:{handleSelectedProvince:t.setProvinceNow}}),t._v(" "),i("div",{staticStyle:{"margin-top":"-1em"}},[i("single-select-district",{attrs:{"province-id":t.province_now_id,"district-id":t.candidate.district_now_id},on:{handleSelectedDistrict:t.setDistrictNow}})],1)],1)],1)],1)],1),t._v(" "),i("b-col",{attrs:{md:"6"}},[i("b-row",[i("b-col",{attrs:{md:"12"}},[i("b-form-group",{attrs:{label:"Nơi đăng ký làm việc"}},[i("single-select-province",{attrs:{"province-id":t.province_register_id},on:{handleSelectedProvince:t.setProvinceRegister}}),t._v(" "),i("div",{staticStyle:{"margin-top":"-1em"}},[i("single-select-district",{attrs:{"province-id":t.province_register_id,"district-id":t.candidate.district_register_id},on:{handleSelectedDistrict:t.setDistrictRegister}})],1)],1)],1)],1),t._v(" "),i("b-row",[i("b-col",{attrs:{md:"12"}},[i("b-form-group",{attrs:{label:"Vị trí đăng ký làm việc"}},[i("b-row",[i("b-col",{attrs:{md:"6"}},[i("single-select-candidate-position",{attrs:{"job-id":t.candidate.job_id},on:{handleChoosePosition:t.setJobId}})],1),t._v(" "),i("b-col",{attrs:{md:"6"}},[i("multiselect",{attrs:{options:t.workshiftOptions,label:"text",placeholder:"Ca làm việc"},model:{value:t.work_shift,callback:function(e){t.work_shift=e},expression:"work_shift"}})],1)],1)],1)],1)],1),t._v(" "),i("b-row",[i("b-col",{attrs:{md:"12"}},[i("b-form-group",{attrs:{label:"Nguồn giới thiệu"}},[i("b-row",[i("b-col",{attrs:{md:"6"}},[i("multiselect",{attrs:{options:t.referralOptions,label:"text",placeholder:"Nguồn giới thiệu"},model:{value:t.referral,callback:function(e){t.referral=e},expression:"referral"}})],1),t._v(" "),i("b-col",{attrs:{md:"6"}},[t.referral&&"employee"!=t.referral.value?i("multiselect",{attrs:{options:t.computedSourceOption,label:"text",placeholder:"Kênh giới thiệu"},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}}):t._e(),t._v(" "),t.referral&&"employee"==t.referral.value?i("div",[i("single-select-candidate-referrer",{attrs:{"referrer-id":t.candidate.referrer_id},on:{handleChooseRefferer:t.setReferrer}})],1):t._e()],1)],1)],1)],1)],1),t._v(" "),i("b-row",[i("b-col",{attrs:{md:"9"}},[i("b-form-group",{attrs:{label:"Upload CV"}},[i("b-form-file",{ref:"cv_file",staticStyle:{"z-index":"0"},attrs:{placeholder:"Chọn File CV"},model:{value:t.cv_file,callback:function(e){t.cv_file=e},expression:"cv_file"}})],1)],1),t._v(" "),i("b-col",{attrs:{md:"3"}},[t.candidate.cv_file?i("b-link",{staticClass:"btn btn-default w-100 mt-4",attrs:{href:t.candidate.cv_file,target:"_blank"}},[t._v("Xem CV")]):t._e()],1)],1)],1)],1),t._v(" "),i("template",{slot:"modal-footer"},[i("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.updateCandidate()}}},[t._v("\n        Đồng ý\n        ")])],1)],2)],1)},[],!1,it,null,null).exports,at=i("IC97"),rt=i("xF2Z"),st={name:"candidate-manager",components:{Multiselect:h.a,SingleSelectDateRange:Z,SingleSelectCandidateProcessors:J,LogComment:X.a,SelectCandidateStatusButtons:Q,CandidateFilter:q,ModalEditCandidate:nt,Datepicker:at.a,flatPickr:K.a},data:function(){return{exporting:!1,exported:!1,URLExportedFile:"#",exportable:!1,processorActive:!1,currEditing:{},triggerEdit:!1,typeEdit:"",currUser:{},referralEnums:{facebook:"Facebook",web:"Web tuyển dụng",workfes:"Ngày hội việc làm",gtvlservice:"Dịch vụ GTVL",ghtk:"Nhân viên GHTK",employee:"Giới thiệu nội bộ",friend:"Bạn bè, người thân",collabor:"CTV tuyển dụng",other:"Khác"},statusSortOrder:!1,positionSortOrder:!1,dateSortOrder:!1,ejdateSortOrder:!1,joinedDate:null,currComment:{candidate_id:null,status:"",statusText:"",expected_join_date:null,evaluate:null},stageStatus:{candidate_id:null,status:"",newStatus:""},page:{currentPage:1,totalPages:1,perPage:50,totalItems:0},filter:{},selectedDateFilterType:null,dateFilterOptions:[{value:"created",name:"Ngày vào"},{value:"expected_join_date",name:"Ngày dự kiến nhận việc"}],selectedCandidate:null,listCandidates:[],listProcessors:[],countStatus:{},showReffererSelection:!1,masterIdLinkable:null,cv_file:null}},watch:{listCandidates:{handler:function(t,e){var i=this;null!==t&&void 0!==t&&this.listCandidates.forEach(function(t,e){null!=i.listCandidates[e].processors&&(i.listCandidates[e].text_list_processorss=i.listCandidates[e].processors.map(function(t){return t.fullname}).join(", "))})},deep:!0},joinedDate:function(t,e){if(null!==t){var i=t.split("to").map(function(t){return t.trim()});if(2===i.length)return this.filter.start_date=A()(i[0],"DD-MM-YYYY").format("YYYY-MM-DD"),void(this.filter.end_date=A()(i[1],"DD-MM-YYYY").format("YYYY-MM-DD"))}this.filter.start_date=null,this.filter.end_date=null},selectedDateFilterType:function(t,e){this.filter.date_filter_type=t.value}},created:function(){this.listCandidates=[],this.getCurrUser(),this.getCandidates(),this.getProcessor()},mounted:function(){},beforeDestroy:function(){},methods:{updateCandidate:function(t){for(var e=0;e<this.listCandidates.length;e++)return this.listCandidates[e].id===t.id&&(this.listCandidates[e]=t),void this.$forceUpdate()},clearSource:function(){this.currEditing.source=null},toggleDetail:function(t){t.showDetail=!t.showDetail,t.showProcessor=t.showDetail,this.$forceUpdate()},customLabelProcessors:function(t){var e=t.fullname;t.username;return e+" ("+t.stationName+")"},resetExport:function(){this.exporting=!1,this.exported=!1,this.URLExportedFile="#"},redirectToLinkMasterProfile:function(){void 0!==this.masterIdLinkable&&null!==this.masterIdLinkable&&this.$router.push({name:"edit-master-profile",params:{id:this.masterIdLinkable}})},redirectToMasterProfile:function(t){var e={};t.id&&(e.id=t.id),t.name&&(e.name=t.name),t.birthday&&(e.birthday=t.birthday),t.mail&&(e.mail=t.mail),t.phone&&(e.phone=t.phone),t.birthday&&(e.birthday=t.birthday),t.gender&&(e.gender=t.gender),t.identify_id&&(e.identify_id=t.identify_id),t.type_marriage_name&&(e.marital_status_name=t.type_marriage_name),t.province_now_id&&(e.province_now_id=t.province_now_id),t.district_now_id&&(e.district_now_id=t.district_now_id),t.detail_now&&(e.detail_now=t.detail_now),t.academy_level&&(e.academy_level=t.academy_level),t.type_marriage_name&&(e.type_marriage_name=t.type_marriage_name),sessionStorage.setItem("candidate",d()(e)),this.$router.push({name:"add-master-profile"})},createMasterProfile:function(t){var e=this;if(this.masterIdLinkable=null,t.identify_id){var i={field:"personal_id_number",value:t.identify_id};rt.a.existedFieldValue(i).then(function(i){if(i.data.success)if(i.data.exist){e.masterIdLinkable=i.data.data;var n={candidate_id:t.id,master_id:e.masterIdLinkable};T.a.existedMasterProfile(n).then(function(t){t.data.success&&(t.data.data?alert("Đã tồn tại ứng viên liên kết đến Master Profile có cùng số CMND/CCCD này"):e.$refs.refLinkModal.show())})}else e.redirectToMasterProfile(t);else alert("Đã có lỗi xảy ra, vui lòng thử lại.")})}else this.redirectToMasterProfile(t)},showHideProcessor:function(t){t.showProcessor=!t.showProcessor,this.$forceUpdate()},openEditModal:function(t,e){this.currEditing=e,this.triggerEdit=!this.triggerEdit,this.typeEdit=t},updateStageStatus:function(t){this.stageStatus.candidate_id!==t.id&&(this.stageStatus.candidate_id=t.id,this.stageStatus.status=t.status)},cancel:function(){this.currComment.evaluate=""},moment:function(t){return A()(t)},getCurrUser:function(){var t=this;T.a.getCurrUser().then(function(e){e.data.success&&(t.currUser=e.data.data)}).catch(function(t){console.log(t)})},getCandidates:function(t){var e=this;T.a.getCandidateList(t).then(function(t){t.data.success&&(e.page.totalItems=t.data.data["total-candidates"],e.page.perPage=t.data.data.limit,e.page.totalPages=Math.ceil(e.page.totalItems/e.page.perPage),null!=e.filter["status-order"]&&(e.statusSortOrder=!e.statusSortOrder),null!=e.filter["date-order"]&&(e.dateSortOrder=!e.dateSortOrder),null!=e.filter["position-order"]&&(e.positionSortOrder=!e.positionSortOrder),null!=e.filter["ejdate-order"]&&(e.ejdateSortOrder=!e.ejdateSortOrder),e.listCandidates=t.data.data.candidates,e.listCandidates.forEach(function(t,i){e.listCandidates[i].showDetail=!1,e.listCandidates[i].showProcessor=!1,e.listCandidates[i].canEditprocessorss=!0,null!==e.listCandidates[i].processors&&(e.listCandidates[i].text_list_processorss=e.listCandidates[i].processors.map(function(t){return t.fullname}).join(", "))}),e.countStatus=t.data.data.countStatus)})},getProcessor:function(){var t=this;T.a.getProcessorList().then(function(e){e.data.success&&(t.listProcessors=e.data.data)})},addProcessor:function(t,e){var i=this,n={};n.candidate_id=t.id,n.processor_id=e.id,T.a.addProcessor(n).then(function(n){n.data.success?(i.addLog(t.id,n.data.data),tt.a.showMessage("Thêm người xử lý thành công","success")):(t.processors.pop(e),tt.a.showMessage("Thêm người xử lý thất bại","fail"))})},removeProcessor:function(t,e){var i=this,n={};n.candidate_id=t.id,n.processor_id=e.id,T.a.removeProcessor(n).then(function(n){n.data.success?(i.addLog(t.id,n.data.data),tt.a.showMessage("Xóa người xử lý thành công","success")):(t.processors.push(e),tt.a.showMessage("Xóa người xử lý thất bại","fail"))})},addLog:function(t,e){for(var i=0;i<this.listCandidates.length;i++)this.listCandidates[i].id===t&&this.listCandidates[i].logs.push(e)},onStatusChanged:function(t,e){this.currComment.candidate_id=t,this.currComment.status=e,this.listCandidates.find(function(e){return e.id===t}).status=this.stageStatus.status,this.currComment.evaluate=null,this.$refs["evaluate-modal"].show()},changeStatus:function(){var t=this;if("expect_join"===this.currComment.status){if(!this.currComment.expected_join_date)return void alert("Chọn ngày dự kiến nhận việc");this.updateExpectedJoinDate({id:this.currComment.candidate_id},this.currComment.expected_join_date).then(function(e){e&&t.addStatusLog(),t.listCandidates.find(function(e){return e.id===t.currComment.candidate_id}).expected_join_date=t.currComment.expected_join_date})}else this.addStatusLog()},addStatusLog:function(){var t=this;T.a.updateStatus(this.currComment).then(function(e){e.data.success&&(t.addLog(t.stageStatus.candidate_id,e.data.data),t.listCandidates.find(function(e){return e.id===t.stageStatus.candidate_id}).status=t.currComment.status,t.$refs["evaluate-modal"].hide(),"probation"===t.currComment.status&&t.createMasterProfile(t.listCandidates.find(function(e){return e.id===t.currComment.candidate_id})))}).catch(function(t){console.log(t)})},sortByStatus:function(){this.filter["status-order"]=null,this.filter["date-order"]=null,this.filter["position-order"]=null,this.filter["ejdate-order"]=null,this.statusSortOrder?this.filter["status-order"]="asc":this.filter["status-order"]="desc",this.getCandidates(this.filter)},sortByDate:function(){this.filter["status-order"]=null,this.filter["date-order"]=null,this.filter["position-order"]=null,this.filter["ejdate-order"]=null,this.dateSortOrder?this.filter["date-order"]="asc":this.filter["date-order"]="desc",this.getCandidates(this.filter)},sortByEjDate:function(){this.filter["status-order"]=null,this.filter["date-order"]=null,this.filter["position-order"]=null,this.ejdateSortOrder?this.filter["ejdate-order"]="asc":this.filter["ejdate-order"]="desc",this.getCandidates(this.filter)},sortByPosition:function(){this.filter["status-order"]=null,this.filter["date-order"]=null,this.filter["position-order"]=null,this.filter["ejdate-order"]=null,this.positionSortOrder?this.filter["position-order"]="asc":this.filter["position-order"]="desc",this.getCandidates(this.filter)},handleChooseStatus:function(t){this.filter.status="all"===t?null:t,["collaborators","business_coop","probation","official","resigned"].includes(t)||(this.filter.station_id=null,this.filter.module_id=null,this.filter.department=null,this.filter.position_id=null),this.search({})},handleChooseRefferer:function(t){this.filter.referrer_id=t?t.id:null},handleChooseprocessor:function(t){this.filter.processor_id=t?t.id:null},search:function(t){var e=this;this.filter.page=this.page.currentPage,c()(t).forEach(function(i){e.filter[i]=t[i]}),this.getCandidates(this.filter)},exportCandidates:function(){var t=this;this.exporting=!0,T.a.exportCandidateList(this.filter).then(function(e){e.data.success?t.checkJobExportStatus(e.data.job_id):(t.$notify({group:"default",type:"text-dark bg-warning",title:"Xảy ra lỗi",text:e.data.message}),t.exporting=!1,t.exported=!1)}).catch(function(t){console.log(t)})},checkJobExportStatus:function(t){var e=this,i=setInterval(function(){rt.a.checkJobStatus({job_id:t}).then(function(t){t.data.success?"closed"===t.data.job_status&&(clearInterval(i),t.data.message?e.$notify({group:"default",type:"text-dark bg-warning",title:"Xảy ra lỗi",text:t.data.message}):(e.exported=!0,e.URLExportedFile=t.data.file_path,e.$notify({group:"default",type:"text-white bg-primary",title:"Xuất file thành công",text:"Đã xuất xong file dữ liệu"})),e.exporting=!1):(e.$notify({group:"default",type:"text-dark bg-warning",title:"Xảy ra lỗi",text:t.data.message}),clearInterval(i),e.exporting=!1)})},2e3)},openEditprocessorss:function(t){var e=t.id-1;this.listCandidates[e].canEditprocessorss=!0},showHistory:function(t){this.selectedCandidate=t,this.$refs.historyModalRef.show()},getCandidateStatusName:function(t){return(new k).getStatusName(t)},getCandidateStatusClass:function(t){return(new k).getStatusClass(t)},updateExpectedJoinDate:function(t,e){var i=this;return s()(a.a.mark(function n(){var r,s;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,s=!1,e&&(r=A()(e).format("YYYY-MM-DD")),n.next=5,T.a.updateExpectedJoinDate({id:t.id,date:r}).then(function(e){e.data.success?(t.expected_join_date=r,i.$notify({group:"default",type:"text-white bg-primary",title:"Cập nhật thành công",text:r?"Ngày dự kiến nhận việc mới: <b>"+r+"</b>":"Ngày dự kiến nhận việc đã xóa"}),s=!0):i.$notify({group:"default",type:"text-dark bg-warning",title:"Xảy ra lỗi",text:e.data.message})});case 5:return i.$forceUpdate(),n.abrupt("return",s);case 7:case"end":return n.stop()}},n,i)}))()}}};var ot=function(t){i("OEkN"),i("6aA6"),i("KOsj"),i("qYgb")},ct=Object(L.a)(st,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"list-order-page"},[i("div",{staticClass:"ui-block"},[i("div",{staticClass:"list-order-header"},[i("b-row",{staticStyle:{"margin-top":"-1em"}},[i("b-col",{staticStyle:{"padding-top":"0.5em"}},[i("h4",{staticClass:"ui-block-heading",staticStyle:{margin:"0px",display:"inline-block"}},[t._v("Danh sách nhân sự")])]),t._v(" "),i("b-col",{staticClass:"text-right"},[i("b-btn",{attrs:{variant:"success"},on:{click:function(e){return t.openEditModal("create",{})}}},[t._v("+ Tạo mới ứng viên")])],1)],1)],1),t._v(" "),i("candidate-filter",{on:{search:t.search}}),t._v(" "),i("select-candidate-status-buttons",{attrs:{quantity:t.countStatus},on:{"on-change":t.handleChooseStatus}})],1),t._v(" "),i("div",{staticClass:"mb-3"},[i("b-card",{attrs:{"no-body":""}},[i("div",{staticClass:"row mb-1"},[i("div",{staticClass:"col-sm text-sm-left text-center pt-2 ml-1"},[t.page.totalItems?i("span",{staticClass:"text-muted"},[t._v("Trang "+t._s(t.page.currentPage)+" trên "+t._s(t.page.totalPages))]):t._e()]),t._v(" "),i("div",{staticClass:"col-sm pt-1"},[t.page.totalItems?i("b-pagination",{staticClass:"justify-content-center justify-content-sm-end m-0 clear-zindex",attrs:{"total-rows":t.page.totalItems,"per-page":t.page.perPage,size:"sm"},on:{input:t.search},model:{value:t.page.currentPage,callback:function(e){t.$set(t.page,"currentPage",e)},expression:"page.currentPage"}}):t._e()],1)]),t._v(" "),i("section",[i("div",{staticClass:"fixed-thead"},[i("table",{staticClass:"table mb-0 table-bordered"},[i("thead",[i("tr",{staticClass:"bg-secondary text-white"},[i("th",[i("div",{staticClass:"text-center"},[t._v("ID")])]),t._v(" "),i("th",[i("div",[i("span",{staticClass:"text-nowrap"},[t._v("Thông tin nhân sự")])])]),t._v(" "),i("th",{staticStyle:{cursor:"pointer"},on:{click:t.sortByStatus}},[i("div",[i("span",{staticClass:"text-nowrap"},[t._v("Trạng thái  \n                              "),t.statusSortOrder?i("i",{staticClass:"icon ion-md-arrow-dropup"}):i("i",{staticClass:"icon ion-md-arrow-dropdown"})])])]),t._v(" "),i("th",{staticStyle:{cursor:"pointer"},on:{click:t.sortByPosition}},[i("div",[i("span",{staticClass:"text-nowrap"},[t._v("Vị trí làm việc  \n                            "),t.positionSortOrder?i("i",{staticClass:"icon ion-md-arrow-dropup"}):i("i",{staticClass:"icon ion-md-arrow-dropdown"})])])]),t._v(" "),i("th",{staticStyle:{cursor:"pointer",width:"160px"},on:{click:t.sortByDate}},[i("div",[i("span",{staticClass:"text-nowrap"},[t._v("Ngày tạo hồ sơ  \n                            "),t.dateSortOrder?i("i",{staticClass:"icon ion-md-arrow-dropup"}):i("i",{staticClass:"icon ion-md-arrow-dropdown"})])])]),t._v(" "),i("th",{staticStyle:{cursor:"pointer",width:"185px"},on:{click:t.sortByEjDate}},[i("div",[i("span",{staticClass:"text-nowrap"},[t._v("Ngày dự kiến nhận việc  \n                            "),t.ejdateSortOrder?i("i",{staticClass:"icon ion-md-arrow-dropup"}):i("i",{staticClass:"icon ion-md-arrow-dropdown"})])])]),t._v(" "),i("th",[i("div",[i("span",{staticClass:"text-nowrap"},[t._v("Người xử lí")])])])])]),t._v(" "),i("tbody",[t._l(t.listCandidates,function(e,n){return[i("tr",{key:n,staticClass:"pay-label"},[i("td",{staticStyle:{"text-align":"center"}},[e.master_profile_id>0?i("router-link",{attrs:{to:{name:"edit-master-profile",params:{id:e.master_profile_id}}}},[t._v(t._s(e.staff_code))]):i("span",[t._v(t._s(e.id))]),t._v(" "),i("br"),t._v(" "),i("b-button",{staticClass:"btn btn-outline-info",staticStyle:{width:"80px"},attrs:{size:"sm"},on:{click:function(i){return t.openEditModal("edit",e)}}},[i("span",{staticStyle:{"font-size":"10px"}},[t._v("Sửa thông tin")])]),i("br"),t._v(" "),e.master_profile_id?i("div"):i("b-button",{staticClass:"mt-2 btn btn-outline-success",staticStyle:{width:"80px"},attrs:{size:"sm"},on:{click:function(i){return t.createMasterProfile(e)}}},[i("span",{staticStyle:{"font-size":"10px"}},[t._v("Tạo profile")])])],1),t._v(" "),i("td",[e.name?i("div",{staticClass:"row",staticStyle:{"min-width":"400px"}},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Họ tên: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[i("b",[e.master_profile_id>0?i("router-link",{staticClass:"mt-2",staticStyle:{margin:"0px"},attrs:{to:{name:"edit-master-profile",params:{id:e.master_profile_id}}}},[t._v(t._s(e.name))]):i("span",[t._v(t._s(e.name))])],1),t._v(" "),e.cv_file?i("b-link",{attrs:{href:e.cv_file,target:"_blank"}},[t._v(" ( Xem CV )")]):t._e(),t._v(" "),i("br")],1)])]):t._e(),t._v(" "),e.phone?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Số điện thoại: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[i("b",[t._v(t._s(e.phone))]),i("br")])])]):t._e(),t._v(" "),e.district_register_id||e.province_register_id?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Nơi đăng ký: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[e.district_register_id?i("span",[t._v(t._s(e.district_register_name))]):t._e(),t._v(" "),e.province_register_id?i("span",[t._v(", "+t._s(e.province_register_name))]):t._e()])])]):t._e(),t._v(" "),e.showDetail?[e.birthday?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Ngày sinh: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[i("span",[t._v(t._s(t.moment(e.birthday).format("DD-MM-YYYY")))]),i("br")])])]):t._e(),t._v(" "),e.gender?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Giới tính: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",["male"==e.gender?i("span",[t._v(" Nam")]):i("span",[t._v("Nữ")]),i("br")])])]):t._e(),t._v(" "),e.mail?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Email: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[i("b",[t._v(t._s(e.mail))]),i("br")])])]):t._e(),t._v(" "),e.identify_id?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Số CMND/CCCD: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[i("span",[t._v(" "+t._s(e.identify_id))])])])]):t._e(),t._v(" "),e.degree?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Trình độ học vấn: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[t._v(t._s(e.degree))])])]):t._e(),t._v(" "),e.marital_status?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Tình trạng hôn nhân: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",["married"==e.marital_status?i("span",[t._v("Đã kết hôn")]):i("span",[t._v("Độc thân")])])])]):t._e(),t._v(" "),e.driver_license?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Bằng lái xe: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[t._v(t._s(e.driver_license))])])]):t._e(),t._v(" "),e.driver_license_date?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Ngày cấp bằng lái: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[t._v(t._s(t.moment(e.driver_license_date).format("DD-MM-YYYY")))])])]):t._e(),t._v(" "),e.work_shift?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Ca làm việc: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[t._v(t._s(e.work_shift_name))])])]):t._e(),t._v(" "),e.detail_now||e.street_now_id||e.district_now_id||e.province_now_id?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Chỗ ở: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[e.detail_now?i("span",[t._v(t._s(e.detail_now)+", ")]):t._e(),t._v(" "),e.street_now_id?i("span",[t._v(t._s(e.street_now_name)+", ")]):t._e(),t._v(" "),e.district_now_id?i("span",[t._v(t._s(e.district_now_name)+", ")]):t._e(),t._v(" "),e.province_now_id?i("span",[t._v(t._s(e.province_now_name))]):t._e()])])]):t._e(),t._v(" "),e.referral?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Nguồn giới thiệu: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[t._v(t._s(t.referralEnums[e.referral]))])])]):t._e(),t._v(" "),e.referrer.id?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Người giới thiệu: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[i("router-link",{staticClass:"mt-2",attrs:{to:{name:"edit-user",params:{id:e.referrer.id}}}},[t._v(t._s(e.referrer.fullname))])],1)])]):t._e(),t._v(" "),e.referrer.id&&e.ref_reward?i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"mr-2"},[t._v("Mức thưởng: ")])]),t._v(" "),i("div",{staticClass:"col-7"},[i("div",[i("b",[t._v(t._s(e.ref_reward/1e3)+"K")])])])]):t._e()]:t._e(),t._v(" "),i("div",{staticClass:"row"},[i("b-button",{attrs:{variant:"link"},on:{click:function(i){return t.toggleDetail(e)}}},[i("span",[t._v(t._s(e.showDetail?"Ẩn":"Xem"))]),t._v(" chi tiết")]),t._v(" "),e.master_profile_id?i("router-link",{staticClass:"ml-2 mt-2",attrs:{to:{name:"edit-master-profile",params:{id:e.master_profile_id}}}},[t._v("Xem hồ sơ")]):t._e()],1)],2),t._v(" "),i("td",{staticStyle:{"max-width":"400px"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"candidate.status"}],class:t.getCandidateStatusClass(e.status),staticStyle:{border:"0"},on:{click:function(i){return t.updateStageStatus(e)},change:[function(i){var n=Array.prototype.filter.call(i.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"status",i.target.multiple?n:n[0])},function(i){return t.onStatusChanged(e.id,e.status)}]}},[i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"contact"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Cần liên hệ")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"interview"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Đang phỏng vấn")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"rejected"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Không trúng tuyển")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"refused"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Từ chối nhận việc")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"saveinfo"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Lưu thông tin")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"expect_join"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Dự kiến nhận việc")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"collaborators"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Cộng tác viên")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"business_coop"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Hợp tác kinh doanh")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"probation"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Đang thử việc")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"official"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Nhân viên chính thức")])]),t._v(" "),i("option",{staticStyle:{background:"white",color:"black"},attrs:{value:"resigned"}},[i("span",{staticStyle:{cursor:"pointer"}},[t._v("Đã nghỉ việc")])])]),t._v(" "),i("br"),t._v(" "),e.logs.length&&"status"!==e.logs[e.logs.length-1].type?i("p",[i("b",[t._v(t._s(t.moment(e.logs[e.logs.length-1].time).format("DD-MM-YYYY")))]),t._v(" "),i("router-link",{attrs:{to:{name:"edit-user",params:{id:e.logs[e.logs.length-1].user.id}}}},[t._v(t._s(e.logs[e.logs.length-1].user.fullname))]),t._v(" "+t._s(e.logs[e.logs.length-1].message))],1):t._e(),t._v(" "),t._l(e.logs,function(e,n){return i("p",{key:n,staticStyle:{"margin-bottom":"0px","margin-top":"8px"}},["status"===e.type?[i("b",[t._v(t._s(t.moment(e.time).format("DD-MM-YYYY")))]),t._v(" "),i("router-link",{attrs:{to:{name:"edit-user",params:{id:e.user.id}}}},[t._v(t._s(e.user.fullname))]),t._v(" "+t._s(e.message)+"\n                                  ")]:t._e()],2)})],2),t._v(" "),i("td",{staticStyle:{"min-width":"160px"}},[i("span",[t._v(t._s(e.job_name))])]),t._v(" "),i("td",[t._v(t._s(t.moment(e.created).format("DD-MM-YYYY")))]),t._v(" "),i("td",{staticStyle:{width:"180px"}},[i("datepicker",{staticClass:"dp-fixed-width",attrs:{"calendar-class":"my-datepicker_calendar",value:e.expected_join_date,name:"join-date",format:"dd-MM-yyyy",bootstrapStyling:!0,"monday-first":!0,"full-month-name":!0,placeholder:"--/--/----","calendar-button":!0,"calendar-button-icon":"ion ion-md-calendar","clear-button":!0,disabled:"expect_join"!==e.status},on:{input:function(i){for(var n=arguments.length,a=Array(n);n--;)a[n]=arguments[n];return t.updateExpectedJoinDate.apply(void 0,[e].concat(a))}}})],1),t._v(" "),i("td",{staticClass:"text-right"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showProcessor,expression:"candidate.showProcessor"}]},[t.listCandidates[n].canEditprocessorss?i("div",[i("multiselect",{staticClass:"limit-height",staticStyle:{width:"600px"},attrs:{options:t.listProcessors,multiple:!0,placeholder:"Chọn người xử lí","custom-label":t.customLabelProcessors,"track-by":"fullname",selectedLabel:"",deselectLabel:"x",selectLabel:"","allow-empty":!0},on:{select:function(i){for(var n=arguments.length,a=Array(n);n--;)a[n]=arguments[n];return t.addProcessor.apply(void 0,[e].concat(a))},remove:function(i){for(var n=arguments.length,a=Array(n);n--;)a[n]=arguments[n];return t.removeProcessor.apply(void 0,[e].concat(a))}},model:{value:e.processors,callback:function(i){t.$set(e,"processors",i)},expression:"candidate.processors"}},[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Rất tiếc. Không tìm thấy.")])])],1):i("div",[i("span",{domProps:{textContent:t._s(e.text_list_processorss)}}),t._v(" "),i("button",{staticClass:"btn btn-outline-info icon-btn borderless btn-sm",attrs:{type:"button"},on:{click:function(i){return t.openEditprocessorss(e.id)}}},[i("i",{staticClass:"ion ion-md-create"})])]),t._v(" "),i("b-btn",{staticClass:"mt-2 pull-right btn btn-outline-secondary ",staticStyle:{width:"70px"},on:{click:function(i){return t.showHideProcessor(e)}}},[t._v("Ẩn")])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showProcessor,expression:"!candidate.showProcessor"}]},[i("b-btn",{staticClass:"btn btn-outline-secondary",staticStyle:{width:"70px"},on:{click:function(i){return t.showHideProcessor(e)}}},[t._v("Xem")])],1)])]),t._v(" "),e.showDetail?i("tr",{key:"comment#"+n},[i("td",{attrs:{colspan:"7"}},[i("log-comment",{attrs:{currUser:t.currUser,"list-comments":e.logs,"candidate-id":e.id,"master-profile-id":e.master_profile_id}})],1)]):t._e()]})],2)])])])])],1)]),t._v(" "),i("div",[i("b-modal",{ref:"evaluate-modal",staticClass:"vertical-align-modal",attrs:{id:"addToLogModal","ok-only":"",static:""}},[i("template",{slot:"modal-title"},[i("div",[i("span",[t._v("ĐÁNH GIÁ ỨNG VIÊN")])])]),t._v(" "),i("b-form-input",{staticClass:"only-bottom-border",attrs:{placeholder:"Viết đánh giá"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeStatus(e)}},model:{value:t.currComment.evaluate,callback:function(e){t.$set(t.currComment,"evaluate",e)},expression:"currComment.evaluate"}}),t._v(" "),i("br"),t._v(" "),i("span",[i("b",[t._v("Lưu ý:")]),t._v(" Ghi chú/đánh giá này sẽ được hiển thị cho người giới thiệu xem")]),t._v(" "),"expect_join"==t.currComment.status?i("div",{staticClass:"mt-3"},[i("b",[t._v("Ngày dự kiến nhận việc:")]),t._v(" "),i("br"),t._v(" "),i("datepicker",{staticClass:"dp-fixed-width mt-2",attrs:{"calendar-class":"my-datepicker_calendar",name:"join-date",format:"dd-MM-yyyy",bootstrapStyling:!0,"monday-first":!0,"full-month-name":!0,placeholder:"--/--/----","calendar-button":!0,"calendar-button-icon":"ion ion-md-calendar","clear-button":!0},model:{value:t.currComment.expected_join_date,callback:function(e){t.$set(t.currComment,"expected_join_date",e)},expression:"currComment.expected_join_date"}})],1):t._e(),t._v(" "),i("template",{slot:"modal-footer"},[i("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(e){return t.changeStatus()}}},[t._v("\n        Đồng ý\n      ")])],1)],2)],1),t._v(" "),i("modal-edit-candidate",{attrs:{currEditing:t.currEditing,trigger:t.triggerEdit,type:t.typeEdit},on:{"on-updated":t.updateCandidate}}),t._v(" "),i("b-modal",{ref:"refLinkModal",attrs:{title:"Liên kết với Master Profile","modal-class":"text-center",static:""}},[i("p",[i("b",[t._v("Đã tồn tại một Master Profile có cùng số CMND/CCCD")])]),i("p"),i("p",[i("b",[t._v("Chuyển trang để thực hiện thao tác liên kết?")])]),t._v(" "),i("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("b-btn",{staticClass:"modal-btn",attrs:{variant:"secondary"},on:{click:function(e){return t.$refs.refLinkModal.hide()}}},[t._v("Bỏ qua")]),t._v(" "),i("b-btn",{staticClass:"modal-btn",attrs:{variant:"primary"},on:{click:t.redirectToLinkMasterProfile}},[t._v("Đồng ý")])],1)])],1)},[],!1,ot,"data-v-3076c926",null);e.default=ct.exports},U5ju:function(t,e,i){i("M6a0"),i("zQR9"),i("+tPU"),i("CXw9"),i("EqBC"),i("jKW+"),t.exports=i("FeBl").Promise},VNpJ:function(t,e,i){"use strict";var n=i("PJh5"),a=i.n(n),r=i("bJ+M"),s={name:"log-comment",props:["listComments","candidateId","masterProfileId","currUser"],data:function(){return{isLoading:!1,currComment:"",listCommentsShow:[],comments:[],nShow:3}},created:function(){this.listComments?(this.comments=this.listComments,this.listCommentsShow=this.comments.slice(Math.max(0,this.comments.length-this.nShow),this.comments.length)):this.comments=[]},methods:{moment:function(t){return a()(t).format("DD-MM-YYYY HH:mm:ss")},showMore:function(){this.nShow<this.comments.length&&(this.nShow+=3),this.nShow>this.comments.length&&(this.nShow=this.comments.length)},comment:function(){var t=this,e={};e.candidate_id=this.candidateId,e.master_profile_id=this.masterProfileId,e.content=this.currComment,this.isLoading=!0,r.a.addComment(e).then(function(e){e.data.success&&t.comments.push(e.data.data),t.currComment="",t.isLoading=!1}).catch(function(t){console.log(t)})}},watch:{listComments:function(t,e){t&&(this.comments=t,this.listCommentsShow=this.comments.slice(Math.max(0,this.comments.length-this.nShow),this.comments.length))},nShow:function(){this.listCommentsShow=this.comments.slice(Math.max(0,this.comments.length-this.nShow),this.comments.length)}}},o=i("XyMi");var c=function(t){i("p1Q7")},l=Object(o.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pl-5 pr-5"},[this.nShow<this.comments.length?i("span",{staticClass:"show-more ml-5",staticStyle:{cursor:"pointer"},on:{click:t.showMore}},[t._v("Xem thêm")]):t._e(),t._v(" "),i("br"),t._v(" "),t._l(t.listCommentsShow,function(e,n){return i("p",{key:n,staticClass:"ml-3 mt-2"},[t._v("\n      "+t._s(t.moment(e.time))+"   "),i("router-link",{staticClass:"mt-2",attrs:{to:{name:"edit-user",params:{id:e.user.id}}}},[t._v(t._s(e.user.fullname))]),t._v("   "+t._s(e.message)+"\n    ")],1)}),t._v(" "),i("b-input-group",[t.isLoading?i("div",{staticClass:"ml-3"},[i("div",{staticClass:"sk-wave sk-primary"},[i("div",{staticClass:"sk-rect sk-rect1"}),t._v(" "),i("div",{staticClass:"sk-rect sk-rect2"}),t._v(" "),i("div",{staticClass:"sk-rect sk-rect3"}),t._v(" "),i("div",{staticClass:"sk-rect sk-rect4"}),t._v(" "),i("div",{staticClass:"sk-rect sk-rect5"})])]):i("div",{staticStyle:{position:"relative",width:"100%","max-width":"600px"}},[i("b-form-input",{staticClass:"only-bottom-border",staticStyle:{"max-width":"600px","padding-right":"35px"},attrs:{placeholder:"Viết ghi chú"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.comment(e)}},model:{value:t.currComment,callback:function(e){t.currComment=e},expression:"currComment"}}),t._v(" "),i("b-btn",{staticStyle:{position:"absolute",top:"2px",right:"10px",border:"none",background:"rgba(0,0,0,0)",padding:"0"},on:{click:function(e){return t.comment()}}},[i("i",{staticClass:"icon ion-ios-send text-primary",staticStyle:{"font-size":"20px"},attrs:{"font-size:":""}})])],1)])],2)},[],!1,c,"data-v-38e91f6b",null);e.a=l.exports},Xxa5:function(t,e,i){t.exports=i("1H6C")},"bJ+M":function(t,e,i){"use strict";var n=i("PikB");e.a={getCandidateList:function(t){return n.a.get("/manage-candidates/getCandidates",{params:t})},getJobList:function(t){return n.a.get("manage-candidates/jobs")},getReffererList:function(t){return n.a.get("manage-candidates/referrers")},getProcessorList:function(t){return n.a.get("manage-candidates/processors")},updateStatus:function(t){return n.a.put("manage-candidates/changeStatus",t)},addComment:function(t){return n.a.post("manage-candidates/comment",t)},addProcessor:function(t){return n.a.post("manage-candidates/addProcessor",t)},removeProcessor:function(t){return n.a.delete("manage-candidates/removeProcessor",{params:t})},getCurrUser:function(t){return n.a.get("manage-candidates/getInfoCurrentUser",t)},updateCandidate:function(t){return n.a.post("manage-candidates/updateCandidate",t)},createCandidate:function(t){return n.a.post("manage-candidates/createCandidate",t)},linkToMasterProfile:function(t){return n.a.put("manage-candidates/linkToMasterProfile",t)},existedMasterProfile:function(t){return n.a.get("manage-candidates/existedMasterProfile",{params:t})},updateExpectedJoinDate:function(t){return n.a.post("manage-candidates/updateExpectedJoinDate",t)},exportCandidateList:function(t){return n.a.post("manage-candidates/exportCandidates",t)},checkCanExport:function(){return n.a.get("manage-candidates/canExportCandidates")}}},bRrM:function(t,e,i){"use strict";var n=i("7KvD"),a=i("FeBl"),r=i("evD5"),s=i("+E39"),o=i("dSzd")("species");t.exports=function(t){var e="function"==typeof a[t]?a[t]:n[t];s&&e&&!e[o]&&r.f(e,o,{configurable:!0,get:function(){return this}})}},dNDb:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},exGp:function(t,e,i){"use strict";e.__esModule=!0;var n,a=i("//Fk"),r=(n=a)&&n.__esModule?n:{default:n};e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default(function(t,i){return function n(a,s){try{var o=e[a](s),c=o.value}catch(t){return void i(t)}if(!o.done)return r.default.resolve(c).then(function(t){n("next",t)},function(t){n("throw",t)});t(c)}("next")})}}},fJUb:function(t,e,i){var n=i("77Pl"),a=i("EqjI"),r=i("qARP");t.exports=function(t,e){if(n(t),a(e)&&e.constructor===t)return e;var i=r.f(t);return(0,i.resolve)(e),i.promise}},hBdn:function(t,e){},iUbK:function(t,e,i){var n=i("7KvD").navigator;t.exports=n&&n.userAgent||""},"jKW+":function(t,e,i){"use strict";var n=i("kM2E"),a=i("qARP"),r=i("dNDb");n(n.S,"Promise",{try:function(t){var e=a.f(this),i=r(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},knuC:function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},nlqq:function(t,e){},p1Q7:function(t,e){},qARP:function(t,e,i){"use strict";var n=i("lOnJ");t.exports.f=function(t){return new function(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=n(e),this.reject=n(i)}(t)}},qYgb:function(t,e){},t8x9:function(t,e,i){var n=i("77Pl"),a=i("lOnJ"),r=i("dSzd")("species");t.exports=function(t,e){var i,s=n(t).constructor;return void 0===s||void 0==(i=n(s)[r])?e:a(i)}},"xH/j":function(t,e,i){var n=i("hJx8");t.exports=function(t,e,i){for(var a in e)i&&t[a]?t[a]=e[a]:n(t,a,e[a]);return t}}});