webpackJsonp([19],{"3PGH":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),n=a.n(s),i=a("IC97"),o=a("RUzx"),l=a.n(o),c=a("qaB4"),r=a("mCOD"),h=a("PikB"),p=function(t){return h.a.get("AdQuickTransfer/getShopQuickTransfer",{params:t})},d=function(t){return h.a.get("AdQuickTransfer/viewPackageWaitTransfer",{params:t})},u=function(t){return h.a.post("/AdQuickTransfer/quickTransfer",t)},_=a("KVzY"),g=a("7+uW"),f=a("w6Ui"),v=a("4s2B"),b={name:"select-package-type",props:{disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn loại đơn"}},components:{Multiselect:l.a},data:function(){return{packageTypes:[{name:"Nội tỉnh",code:"noitinh"},{name:"Nội miền",code:"noimien"},{name:"Liên miền",code:"lienmien"},{name:"Đặc biệt",code:"dacbiet"}],selectedPackageType:[]}},methods:{onSelect:function(t,e){if(this.multiple){var a=[];if(this.selectedPackageType.length>0)for(var s=0;s<this.selectedPackageType.length;s++)a.push(this.selectedPackageType[s].code);a.push(t.code),this.$emit("selected",a)}else this.selectedPackageType=t.code,this.$emit("selected",this.selectedPackageType)},onRemove:function(t){var e=[];if(this.multiple){for(var a=0;a<this.selectedPackageType.length;a++)this.selectedPackageType[a].code!==t.code&&e.push(this.selectedPackageType[a].code);this.$emit("selected",e)}},reset:function(){this.selectedPackageType=this.multiple?[]:"",this.$emit("selected",this.selectedPackageType)}}},k=a("XyMi");var m=function(t){a("o2sY")},C=Object(k.a)(b,function(){var t=this,e=t.$createElement;return(t._self._c||e)("multiselect",{attrs:{options:t.packageTypes,multiple:t.multiple,disabled:t.disabled,placeholder:t.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:t.onSelect,remove:t.onRemove},model:{value:t.selectedPackageType,callback:function(e){t.selectedPackageType=e},expression:"selectedPackageType"}})},[],!1,m,"data-v-3b66132a",null).exports,y=a("4WGu"),T=a("mtWM"),P=a.n(T),S={name:"select-bank",props:{disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn ngân hàng"}},components:{Multiselect:l.a},data:function(){return{banks:[],selectedBank:[]}},methods:{getOptions:function(){var t=this;P.a.get(y.a.baseApiUrl+"AdQuickTransfer/getOptionBank").then(function(e){e.data.success&&(t.banks=e.data.data.options.banks,t.multiple||t.banks.unshift({code:"",name:t.placeholder}))}).catch(function(t){})},onSelect:function(t,e){if(this.multiple){var a=[];if(this.selectedBank.length>0)for(var s=0;s<this.selectedBank.length;s++)a.push(this.selectedBank[s].code);a.push(t.code),this.$emit("selected",a)}else this.selectedBank=t.code,this.$emit("selected",this.selectedBank)},onRemove:function(t){var e=[];if(this.multiple){for(var a=0;a<this.selectedBank.length;a++)this.selectedBank[a].code!==t.code&&e.push(this.selectedBank[a].code);this.$emit("selected",e)}},reset:function(){this.selectedBank=this.multiple?[]:"",this.$emit("selected",this.selectedBank)}},created:function(){this.getOptions()}};var w=function(t){a("BKBS")},D=Object(k.a)(S,function(){var t=this,e=t.$createElement;return(t._self._c||e)("multiselect",{attrs:{options:t.banks,multiple:t.multiple,disabled:t.disabled,placeholder:t.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:t.onSelect,remove:t.onRemove},model:{value:t.selectedBank,callback:function(e){t.selectedBank=e},expression:"selectedBank"}})},[],!1,w,"data-v-52fa365e",null).exports,x=a("dDoS"),F={props:["dataSelect"],data:function(){return{opened:!1,packageTypes:[{name:"Nội tỉnh",code:"noitinh"},{name:"Nội miền",code:"noimien"},{name:"Liên miền",code:"lienmien"},{name:"Đặc biệt",code:"dacbiet"}],selectTypePkgs:[],allSelected:!1}},methods:{toggle:function(){this.opened=!0},hide:function(){this.opened=!1},selectAll:function(t){if(this.selectTypePkgs=[],t){var e=[];for(var a in this.packageTypes)e.push(this.packageTypes[a].code);this.selectTypePkgs=e}}},mounted:function(){this.popupItem=this.$el},created:function(){if(this.selectTypePkgs=this.dataSelect,0===this.dataSelect.length){var t=[];for(var e in this.packageTypes)t.push(this.packageTypes[e].code);this.selectTypePkgs=t}},directives:{ClickOutside:a.n(x).a},watch:{selectTypePkgs:function(t,e){0===t.length?this.allSelected=!1:t.length===this.packageTypes.length?this.allSelected=!0:this.allSelected=!1,this.$emit("selected-type",t)}}};var B=function(t){a("Xp2k")},O=Object(k.a)(F,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select-checkbox-custom"},[a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hide,expression:"hide"}],on:{click:function(e){t.opened=!t.opened}}},[a("span",{staticClass:"text-filter"},[t._v("\n      Chọn loại đơn\n      "),a("i",{staticClass:"ion d-block",class:[t.opened?"ion-ios-arrow-up":"ion-ios-arrow-down"]})])]),t._v(" "),a("div",[a("ul",{staticClass:"dropdown-menu list-select-checkbox",class:{show:t.opened}},[a("li",[a("b-form-checkbox",{on:{change:t.selectAll},model:{value:t.allSelected,callback:function(e){t.allSelected=e},expression:"allSelected"}},[a("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.allSelected?"Bỏ chọn":"Chọn tất cả"))])])],1),t._v(" "),a("b-dropdown-divider"),t._v(" "),t._l(t.packageTypes,function(e){return a("li",{staticClass:"pb-2"},[a("b-form-checkbox",{attrs:{value:e.code},model:{value:t.selectTypePkgs,callback:function(e){t.selectTypePkgs=e},expression:"selectTypePkgs"}},[a("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.name))])])],1)})],2)])])},[],!1,B,"data-v-b2a0e13e",null).exports;g.default.use(_.default);var L={components:{Datepicker:i.a,Multiselect:l.a,LaddaBtn:c.a,LoadingMiniBottom:r.a,SidenavRouterLink:f.g,SelectStations:v.a,SelectBankShop:D,SelectCheckbox:O,SelectPackageType:C},data:function(){return{selected:{stations:[],packageTypes:[],banks:[]},shops:{shop_code:""},loading:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pageData:{currentPage:1,totalPages:0,totalItems:0,perPage:10,sortBy:"id",sortDesc:!1},checkResult:!1,appLoading:!1,loadingTransfer:!1,htmlTransfer:'<div class="sk-folding-cube sk-primary">\n        <div class="sk-cube1 sk-cube"></div>\n        <div class="sk-cube2 sk-cube"></div>\n        <div class="sk-cube4 sk-cube"></div>\n        <div class="sk-cube3 sk-cube"></div>\n        </div>\n        <h5 class="text-center mb-0">LOADING...</h5>',listShops:[],packageStatuses:[],isManageAllShop:!1,successTransfer:!1,failTransfer:!1,dismissSeconds:5,dismissCountDownSE:0,msgNotify:"",message:"",shopOrderTransfer:"",shopCodeTransfer:"",shopTotalCashBack:"",shopTotalPickMoney:"",shopTotalDiscountAmount:"",shopTotalPrepayment:"",shopTotalReturnFee:"",shopTotalShipMoney:"",shopTotalInsurance:"",shopTotalChAddrFee:"",shopTransferFee:"",shopTotalPkgTransfer:"",packageWaitTransfer:[],filterPkgData:[],listPkgOrder:[],selectedPkgs:[],allSelected:!1,transferDone:!1,selectAuditType:{name:"Tất cả",code:""},auditType:[{name:"Tất cả",code:""},{name:"Đối soát thủ công",code:"manual"},{name:"Đối soát tự động",code:"auto"}],disableConfirm:!0}},methods:{resetForm:function(){this.shops.shop_code="",this.$refs.select_stations.reset(),this.$refs.select_banks.reset(),this.$refs.select_package_types.reset()},showModal:function(t,e,a){var s=this;this.shopOrderTransfer=t,this.shopCodeTransfer=a,this.packageWaitTransfer=[],this.listPkgOrder=[],this.selectedPkgs=[],this.shopTransferFee=0,this.failTransfer=!1;var i={shop_order:t,package_type:this.selected.packageTypes};d(i).then(function(t){t.data.success?(s.packageWaitTransfer=t.data.options.packages,s.listPkgOrder=t.data.options.listPkgOrder,s.shopTransferFee=e):(s.packageWaitTransfer=[],s.listPkgOrder=[],s.shopTransferFee=0),s.filterPkgData=JSON.parse(n()(s.packageWaitTransfer)),s.selectedPkgs=s.listPkgOrder}).catch(function(t){}).then(function(){}),this.$refs.quickTransferModal.show()},hideModal:function(){this.$refs.quickTransferModal.hide()},clickAlias:function(t){return"/admin?alias="+t},searchShop:function(t,e,a){var s=this,n={shop_code:s.shops.shop_code,station_id:s.selected.stations,against_bank_name:s.selected.banks,package_type:s.selected.packageTypes,page:t};e&&(this.pageData.currentPage=1,n.page=1),s.loadingTransfer=!0,this.startLoading(a),p(n).then(function(t){t.data.success?(s.packageStatuses=t.data.options.packageStatuses,s.checkResult=t.data.success,s.pageData.totalItems=t.data.options.total,s.pageData.perPage=t.data.options.per_page,s.pageData.totalPages=t.data.options.total_page,s.listShops=t.data.options.shops,s.updateLoadingValue(a,!1)):s.updateLoadingValue(a,!1)}).catch(function(t){t&&s.updateLoadingValue(a,!1)}).then(function(){s.updateLoadingValue(a,!1),s.loadingTransfer=!1})},startLoading:function(t){this.loading[t]||this.updateLoadingValue(t,!0)},updateLoadingValue:function(t,e){this.loading[t]=e,this.loading=this.loading.slice(0)},pageChanged:function(t){this.searchShop(t),this.pageData.currentPage=t},handleOk:function(t){var e={shop_order:this.shopOrderTransfer,list_pkg_order:this.selectedPkgs};this.handleSubmit(e,t)},handleSubmit:function(t,e){if(confirm("Bạn chắc chắn muốn chuyển tiền "+this.selectedPkgs.length+" đơn hàng cho shop "+this.shopCodeTransfer+"?")){var a=this;a.loadingTransfer=!0,this.startLoading(e),u(t).then(function(t){t.data.success?(a.$refs.quickTransferModal.hide(),a.searchShop(a.pageData.currentPage,!0,7),a.transferDone=!0,a.msgNotify=t.data.message,a.failTransfer=!1):(a.loadingTransfer=!1,a.failTransfer=!0,a.transferDone=!1,a.message=t.data.message),a.updateLoadingValue(e,!1)}).catch(function(t){t&&(a.loadingTransfer=!1,alert("Có lỗi xảy ra. Vui lòng kiểm tra lại!")),a.updateLoadingValue(e,!1)}).then(function(){a.transferDone&&(a.successTransfer=!0,a.dismissCountDownSE=a.dismissSeconds),a.updateLoadingValue(e,!1)})}},filterSelectedType:function(t){for(var e in this.listPkgOrder=[],this.filterPkgData=[],this.packageWaitTransfer)t.includes(this.packageWaitTransfer[e].region_type)&&(this.listPkgOrder.push(this.packageWaitTransfer[e].order),this.filterPkgData.push(this.packageWaitTransfer[e]));this.selectedPkgs=this.listPkgOrder.slice()}},computed:{totalItems:function(){return this.listBills.length},totalPages:function(){return Math.ceil(this.totalItems/this.perPage)}},watch:{selectedPkgs:function(t,e){for(var a in this.shopTotalCashBack=0,this.shopTotalPickMoney=0,this.shopTotalDiscountAmount=0,this.shopTotalPrepayment=0,this.shopTotalReturnFee=0,this.shopTotalShipMoney=0,this.shopTotalInsurance=0,this.shopTotalChAddrFee=0,this.shopTotalPkgTransfer=t.length,this.packageWaitTransfer)t.includes(this.packageWaitTransfer[a].order)&&(this.shopTotalCashBack+=parseFloat(this.packageWaitTransfer[a].cashback),this.shopTotalPickMoney+=parseFloat(this.packageWaitTransfer[a].pick_money),this.shopTotalDiscountAmount+=parseFloat(this.packageWaitTransfer[a].discount),this.shopTotalPrepayment+=parseFloat(this.packageWaitTransfer[a].prepayment),this.shopTotalReturnFee+=parseFloat(this.packageWaitTransfer[a].return_fee),this.shopTotalShipMoney+=parseFloat(this.packageWaitTransfer[a].ship_money),this.shopTotalInsurance+=parseFloat(this.packageWaitTransfer[a].insurance),this.shopTotalChAddrFee+=parseFloat(this.packageWaitTransfer[a].ch_addr_fee));this.shopTotalCashBack>0?(this.shopTotalCashBack-=parseFloat(this.shopTransferFee),this.shopTotalCashBack>0&&(this.disableConfirm=!1)):this.disableConfirm=!0}},filters:{toCurrency:function(t){return"number"!=typeof t||0===t?t:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t)},regionType:function(t){return t?"noitinh"===t?"Nội tỉnh":"noimien"===t?"Nội miền":"lienmien"===t?"Liên miền":"dacbiet"===t?"Đặc biệt":"":""},areaType:function(t){return t?"noithanh"===t?"Nội thành":"ngoaithanh"===t?"Ngoại thành":"huyenxa"===t?"Huyện, xã":"":""}},created:function(){this.searchShop(this.pageData.currentPage)}};var M=function(t){a("6aA6"),a("teh7"),a("igzM")},$=Object(k.a)(L,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"ui-block"},[a("h4",{staticClass:"ui-block-heading text-center"},[t._v("Chuyển Tiền COD Nhanh")]),t._v(" "),a("div",[a("form",[a("div",{staticClass:"form-filter"},[a("b-form-row",[a("div",{staticClass:"col-md-6"},[a("b-form-group",{attrs:{label:"Mã shop"}},[a("b-input",{attrs:{type:"text",placeholder:"Nhiều mã cách nhau bởi dấu phẩy. Ví dụ: S1,S2..."},model:{value:t.shops.shop_code,callback:function(e){t.$set(t.shops,"shop_code",e)},expression:"shops.shop_code"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-6"},[a("b-form-group",{attrs:{label:"Chọn kho"}},[a("select-stations",{ref:"select_stations",on:{selected:function(e){t.selected.stations=e}}})],1)],1)]),t._v(" "),a("b-form-row",[a("div",{staticClass:"col-md-6"},[a("b-form-group",{attrs:{label:"Chọn ngân hàng"}},[a("select-bank-shop",{ref:"select_banks",on:{selected:function(e){t.selected.banks=e}}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-6"},[a("b-form-group",{attrs:{label:"Chọn loại đơn"}},[a("select-package-type",{ref:"select_package_types",on:{selected:function(e){t.selected.packageTypes=e}}})],1)],1)])],1),t._v(" "),a("b-form-row",[a("div",{staticClass:"align-content-center center"},[a("b-button",{staticClass:"btn",on:{click:t.resetForm}},[t._v("\n                            Nhập lại\n                        ")]),t._v(" "),a("ladda-btn",{staticClass:"btn btn-success",attrs:{loading:t.loading[7],"data-style":"zoom-out"},nativeOn:{click:function(e){return t.searchShop(t.pageData.currentPage,!0,7)}}},[a("i",{staticClass:"sidenav-icon ion ion-md-search"}),t._v("\n                            Tìm kiếm\n                        ")])],1)])],1)]),t._v(" "),t.successTransfer?a("div",[a("b-alert",{attrs:{show:t.dismissCountDownSE,dismissible:"",variant:"success"},on:{dismissed:function(e){t.dismissCountDownSE=0}}},[t._v("\n                "+t._s(t.msgNotify)+"\n            ")])],1):t._e(),t._v(" "),t.checkResult?a("div",{staticClass:"result",attrs:{id:"results"}},[t.listShops.length>0?a("b-card",{attrs:{"no-body":""}},[a("div",{staticClass:"table-result"},[a("b-card-body",{staticClass:"pt-0 pb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm pt-3"},[a("b-pagination",{attrs:{"total-rows":t.pageData.totalItems,"per-page":t.pageData.perPage},on:{change:t.pageChanged},model:{value:t.pageData.currentPage,callback:function(e){t.$set(t.pageData,"currentPage",e)},expression:"pageData.currentPage"}}),t._v("\n                                Tổng số shop: "+t._s(t.pageData.totalItems)+"\n                            ")],1),t._v(" "),a("div",{staticClass:"col-sm text-sm-left text-center pt-3"},[t.pageData.totalItems?a("span",{staticClass:"text-muted"},[t._v("Trang "+t._s(t.pageData.currentPage)+" trên "+t._s(t.pageData.totalPages))]):t._e()])])]),t._v(" "),a("div",{staticClass:"table-responsive mb-4"},[a("table",{staticClass:"table mb-0 table-bordered table-striped"},[a("thead",{staticStyle:{width:"100%"}},[a("tr",[a("th",{attrs:{width:"40%"}},[t._v("Thông tin shop")]),t._v(" "),a("th",{attrs:{width:"50%"}},[t._v("Chi tiết chuyển tiền")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Thao tác")])])]),t._v(" "),a("tbody",t._l(t.listShops,function(e){return a("tr",{staticClass:"tr-bill"},[a("td",[1==e.Shop.shop_type?a("span",{staticClass:"badge align-text-bottom badge-success"},[t._v("PRO")]):t._e(),t._v(" "),2==e.Shop.shop_type?a("span",{staticClass:"badge align-text-bottom badge-danger"},[t._v("VIP")]):t._e(),t._v(" "),3==e.Shop.shop_type?a("span",{staticClass:"badge align-text-bottom badge-info"},[t._v("PRE")]):t._e(),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.Shop.code)+" - "+t._s(e.Shop.name))]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Email: ")]),a("span",[t._v(t._s(e.Shop.email))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Kiểu đối soát: ")]),t._v(" "),"manual"==e.Shop.audit?a("span",[t._v("\n                                          Đối soát thủ công\n                                        ")]):t._e(),t._v(" "),"auto"==e.Shop.audit?a("span",[t._v("\n                                          Đối soát tự động\n                                        ")]):t._e(),t._v(" "),a("br"),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Email đối soát: ")]),a("span",[t._v(t._s(e.Shop.against_email))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Số tài khoản: ")]),a("span",[t._v(t._s(e.Shop.against_bank_account))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Tên người hưởng: ")]),a("span",[t._v(t._s(e.Shop.against_bank_own))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Mã Ngân hàng: ")]),a("span",[t._v(t._s(e.Shop.against_bank_name))]),t._v(" "),a("br")]),t._v(" "),a("td",{staticClass:"bill-info"},[a("span",{staticClass:"font-weight-bold"},[t._v("Tổng thu hộ: ")]),a("span",[t._v(t._s(t._f("toCurrency")(parseFloat(e.Shop.total_pick_money))))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí ship: ")]),a("span",[t._v(t._s(t._f("toCurrency")(parseFloat(e.Shop.total_ship_money))))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí bảo hiểm: ")]),a("span",[t._v(t._s(t._f("toCurrency")(parseFloat(e.Shop.total_insurance))))]),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Shop trả trước: ")]),a("span",[t._v(t._s(t._f("toCurrency")(parseFloat(e.Shop.total_prepayment))))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí chuyển hoàn: ")]),a("span",[t._v(t._s(t._f("toCurrency")(parseFloat(e.Shop.total_return_fee))))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Khuyến mãi: ")]),a("span",[t._v(t._s(t._f("toCurrency")(parseFloat(e.Shop.total_discount))))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí thay đổi địa chỉ giao: ")]),a("span",[t._v(t._s(t._f("toCurrency")(parseFloat(e.Shop.total_ch_addr_fee))))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí chuyển khoản: ")]),a("span",[t._v(t._s(t._f("toCurrency")(parseFloat(e.Shop.transfer_fee))))]),t._v(" "),a("br"),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Tiền chuyển shop: ")]),a("span",[t._v(t._s(t._f("toCurrency")(parseFloat(e.Shop.total_cashback))))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Số lượng ĐH: ")]),a("span",[t._v(t._s(e.Shop.count_pkg))]),t._v(" "),a("br")]),t._v(" "),a("td",[a("ladda-btn",{staticClass:"btn btn-success",attrs:{"data-style":"zoom-out",disabled:!e.Shop.canTransfer},nativeOn:{click:function(a){return t.showModal(e.Shop.order,e.Shop.transfer_fee,e.Shop.code)}}},[t._v("\n                                        Chuyển tiền\n                                    ")])],1)])}),0)])]),t._v(" "),a("b-card-body",{staticClass:"pt-0 pb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm pt-3"},[a("b-pagination",{attrs:{"total-rows":t.pageData.totalItems,"per-page":t.pageData.perPage},on:{change:t.pageChanged},model:{value:t.pageData.currentPage,callback:function(e){t.$set(t.pageData,"currentPage",e)},expression:"pageData.currentPage"}})],1),t._v(" "),a("div",{staticClass:"col-sm text-sm-left text-center pt-3"},[t.pageData.totalItems?a("span",{staticClass:"text-muted"},[t._v("Trang "+t._s(t.pageData.currentPage)+" trên "+t._s(t.pageData.totalPages))]):t._e()])])])],1)]):t._e(),t._v(" "),0==t.listShops.length?a("div",{staticClass:"no-data"},[a("b-alert",{attrs:{show:"",dismissible:"",variant:"warning"}},[a("i",{staticClass:"sidenav-icon ion ion-ios-warning"}),t._v("\n                    Không có dữ liệu phù hợp, vui lòng thử lại.\n                ")])],1):t._e()],1):t._e(),t._v(" "),a("loading-mini-bottom",{attrs:{enable:t.appLoading}}),t._v(" "),t.loadingTransfer?a("BlockUI",{attrs:{message:"Dữ liệu đang được xử lý, vui lòng đợi!",html:t.htmlTransfer}}):t._e(),t._v(" "),a("b-modal",{ref:"quickTransferModal",attrs:{size:"lg",scrollable:"",title:"Xác nhận chuyển tiền"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){return e.ok,[a("ladda-btn",{staticClass:"btn btn-primary",attrs:{loading:t.loading[8],"data-style":"zoom-out",disabled:t.disableConfirm},nativeOn:{click:function(e){return t.handleOk(8)}}},[t._v("\n                  Xác nhận chuyển tiền\n                ")])]}}])},[a("div",{staticClass:"row pb-5"},[a("div",{staticClass:"col-md-4"},[a("span",{staticClass:"font-weight-bold"},[t._v("Tổng thu hộ: "+t._s(t._f("toCurrency")(t.shopTotalPickMoney)))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Tổng tiền chuyển: "+t._s(t._f("toCurrency")(t.shopTotalCashBack)))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("SL ĐH: "+t._s(t.shopTotalPkgTransfer))]),t._v(" "),a("br")]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("span",{staticClass:"font-weight-bold"},[t._v("Phí ship: "+t._s(t._f("toCurrency")(t.shopTotalShipMoney)))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Shop trả trước: "+t._s(t._f("toCurrency")(t.shopTotalPrepayment)))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí chuyển hoàn: "+t._s(t._f("toCurrency")(t.shopTotalReturnFee)))]),t._v(" "),a("br")]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("span",{staticClass:"font-weight-bold"},[t._v("Phí bảo hiểm: "+t._s(t._f("toCurrency")(t.shopTotalInsurance)))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí thay đổi địa chỉ giao: "+t._s(t._f("toCurrency")(t.shopTotalChAddrFee)))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Khuyến mãi: "+t._s(t._f("toCurrency")(t.shopTotalDiscountAmount)))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí chuyển khoản: "+t._s(t._f("toCurrency")(t.shopTotalCashBack>0?t.shopTransferFee:0)))]),t._v(" "),a("br")])]),t._v(" "),t.failTransfer?a("div",[a("b-alert",{attrs:{show:"",dismissible:"",variant:"danger"}},[a("i",{staticClass:"sidenav-icon ion ion-ios-warning"}),t._v("\n                    "+t._s(t.message)+"\n                ")])],1):t._e(),t._v(" "),a("div",{staticClass:"d-block scrollable strip"},[a("div",{staticClass:"table-responsive mb-4"},[a("table",{staticClass:"table mb-0 table-bordered table-striped"},[a("thead",{staticStyle:{width:"100%"}},[a("tr",[a("th",{attrs:{width:"40%"}},[t._v("Thông tin đơn hàng")]),t._v(" "),a("th",{attrs:{width:"35%"}},[t._v("Ghi chú")]),t._v(" "),a("th",{attrs:{width:"25%"}},[a("select-checkbox",{attrs:{"data-select":t.selected.packageTypes},on:{"selected-type":t.filterSelectedType}})],1)])]),t._v(" "),a("tbody",[0==t.filterPkgData.length?a("tr",{staticClass:"no-data"},[a("td",{staticStyle:{height:"200px","vertical-align":"middle"},attrs:{colspan:"3"}},[a("b-alert",{attrs:{show:"",variant:"warning"}},[t._v("Không tìm thấy dữ liệu phù hợp, vui lòng kiểm tra lại!")])],1)]):t._e(),t._v(" "),t._l(t.filterPkgData,function(e){return a("tr",{staticClass:"tr-bill"},[a("td",[a("a",{staticClass:"text-decoration-none text-alias",attrs:{href:t.clickAlias(e.alias),target:"_blank"}},[t._v("\n                                    "+t._s(e.alias)+"\n                                ")]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Trạng thái: ")]),t._v(" "+t._s(t.packageStatuses[e.package_status_id])+" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Tiền thu hộ: ")]),t._v(" "+t._s(t._f("toCurrency")(parseFloat(e.pick_money)))),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí ship: ")]),t._v(" "+t._s(t._f("toCurrency")(parseFloat(e.ship_money)))),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí bảo hiểm: ")]),t._v(" "+t._s(t._f("toCurrency")(parseFloat(e.insurance)))),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Shop trả trước: ")]),t._v(" "+t._s(t._f("toCurrency")(parseFloat(e.prepayment)))),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí chuyển hoàn: ")]),t._v(" "+t._s(t._f("toCurrency")(parseFloat(e.return_fee)))),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Khuyến mãi: ")]),t._v(" "+t._s(t._f("toCurrency")(parseFloat(e.discount)))),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Phí thay đổi địa chỉ giao: ")]),t._v(" "+t._s(t._f("toCurrency")(parseFloat(e.ch_addr_fee)))),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Tiền chuyển shop: ")]),t._v(" "+t._s(t._f("toCurrency")(parseFloat(e.cashback)))),a("br")]),t._v(" "),a("td",{staticClass:"bill-info"},[1==e.is_freeship?a("span",{staticClass:"font-weight-bold"},[t._v("Free Ship cho khách")]):t._e(),t._v(" "),0==e.is_freeship?a("span",{staticClass:"font-weight-bold"},[t._v("Khách trả tiền Ship")]):t._e(),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v("Loại đơn: ")]),t._v(" "+t._s(t._f("regionType")(e.region_type))),a("br")]),t._v(" "),a("td",[a("b-form-checkbox",{attrs:{value:e.order},model:{value:t.selectedPkgs,callback:function(e){t.selectedPkgs=e},expression:"selectedPkgs"}},[a("span",{staticClass:"font-weight-bold"},[t._v("Chọn")])])],1)])})],2)])])])])],1)])},[],!1,M,"data-v-e991e612",null);e.default=$.exports},BKBS:function(t,e){},Xp2k:function(t,e){},dDoS:function(t,e){function a(t){return"function"==typeof t.value||(console.warn("[Vue-click-outside:] provided expression",t.expression,"is not a function."),!1)}function s(t){return void 0!==t.componentInstance&&t.componentInstance.$isServer}t.exports={bind:function(t,e,n){function i(e){if(n.context){var a=e.path||e.composedPath&&e.composedPath();a&&a.length>0&&a.unshift(e.target),t.contains(e.target)||function(t,e){if(!t||!e)return!1;for(var a=0,s=e.length;a<s;a++)try{if(t.contains(e[a]))return!0;if(e[a].contains(t))return!1}catch(t){return!1}return!1}(n.context.popupItem,a)||t.__vueClickOutside__.callback(e)}}a(e)&&(t.__vueClickOutside__={handler:i,callback:e.value},!s(n)&&document.addEventListener("click",i))},update:function(t,e){a(e)&&(t.__vueClickOutside__.callback=e.value)},unbind:function(t,e,a){!s(a)&&document.removeEventListener("click",t.__vueClickOutside__.handler),delete t.__vueClickOutside__}}},igzM:function(t,e){},o2sY:function(t,e){}});