webpackJsonp([17],{"0Jdf":function(e,t){},"5vfP":function(e,t){},"9u98":function(e,t){},BB29:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("sE1n"),l=(a("4UDB"),a("Oq2I"),a("80cc"),a("miEh"),a("RUzx")),n=a.n(l),i={name:"single-select-type-chart",props:{multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn kiểu hiển thị"}},components:{Multiselect:n.a},data:function(){return{types:[{code:"1",name:"Hiển thị theo giờ"},{code:"2",name:"Hiển thị theo ngày"},{code:"3",name:"Hiển thị theo tuần"},{code:"4",name:"Hiển thị theo tháng"}],selectedTypeChart:[]}},methods:{onSelect:function(e){if(this.multiple){var t=[];if(this.selectedTypeChart.length>0)for(var a=0;a<this.selectedTypeChart.length;a++)t.push(this.selectedTypeChart[a].code);t.push(e.code),this.$emit("selected",t)}else this.selectedTypeChart=e.code,this.$emit("selected",this.selectedTypeChart)},onRemove:function(e){var t=[];if(this.multiple){for(var a=0;a<this.selectedTypeChart.length;a++)this.selectedTypeChart[a].code!==e.code&&t.push(this.selectedTypeChart[a].code);this.$emit("selected",t)}},reset:function(){this.selectedTypeChart=this.multiple?[]:"",this.$emit("selected",this.selectedTypeChart)}}},c=a("XyMi");var o=function(e){a("0Jdf")},r=Object(c.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("multiselect",{attrs:{options:e.types,multiple:e.multiple,placeholder:e.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:e.onSelect,remove:e.onRemove},model:{value:e.selectedTypeChart,callback:function(t){e.selectedTypeChart=t},expression:"selectedTypeChart"}})},[],!1,o,"data-v-6fded119",null).exports,p={name:"select-bag-type",props:{multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn kiểu bao"}},components:{Multiselect:n.a},data:function(){return{types:[{code:"sorting",name:"sorting"},{code:"transit",name:"transit"}],SelectBagType:[]}},methods:{onSelect:function(e){if(this.multiple){var t=[];if(this.SelectBagType.length>0)for(var a=0;a<this.SelectBagType.length;a++)t.push(this.SelectBagType[a].code);t.push(e.code),this.$emit("selected",t)}else this.SelectBagType=e.code,this.$emit("selected",this.SelectBagType)},onRemove:function(e){var t=[];if(this.multiple){for(var a=0;a<this.SelectBagType.length;a++)this.SelectBagType[a].code!==e.code&&t.push(this.SelectBagType[a].code);this.$emit("selected",t)}},reset:function(){this.SelectBagType=this.multiple?[]:"",this.$emit("selected",this.SelectBagType)}}};var d=function(e){a("vE07")},h=Object(c.a)(p,function(){var e=this,t=e.$createElement;return(e._self._c||t)("multiselect",{attrs:{options:e.types,multiple:e.multiple,placeholder:e.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:e.onSelect,remove:e.onRemove},model:{value:e.SelectBagType,callback:function(t){e.SelectBagType=t},expression:"SelectBagType"}})},[],!1,d,"data-v-24386d02",null).exports,m={name:"select-transport-type",props:{multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn kiểu hiển thị"}},components:{Multiselect:n.a},data:function(){return{types:[{code:"fly",name:"fly"},{code:"road",name:"road"}],SelectTransportType:[]}},methods:{onSelect:function(e){if(this.multiple){var t=[];if(this.SelectTransportType.length>0)for(var a=0;a<this.SelectTransportType.length;a++)t.push(this.SelectTransportType[a].code);t.push(e.code),this.$emit("selected",t)}else this.SelectTransportType=e.code,this.$emit("selected",this.SelectTransportType)},onRemove:function(e){var t=[];if(this.multiple){for(var a=0;a<this.SelectTransportType.length;a++)this.SelectTransportType[a].code!==e.code&&t.push(this.SelectTransportType[a].code);this.$emit("selected",t)}},reset:function(){this.SelectTransportType=this.multiple?[]:"",this.$emit("selected",this.SelectTransportType)}}};var u=function(e){a("FQTN")},y=Object(c.a)(m,function(){var e=this,t=e.$createElement;return(e._self._c||t)("multiselect",{attrs:{options:e.types,multiple:e.multiple,placeholder:e.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:e.onSelect,remove:e.onRemove},model:{value:e.SelectTransportType,callback:function(t){e.SelectTransportType=t},expression:"SelectTransportType"}})},[],!1,u,"data-v-739969df",null).exports,f={name:"select-action-type",props:{multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn mốc (tạo bao, nhập kho , xuất kho)"}},components:{Multiselect:n.a},data:function(){return{types:[{code:"Imported",name:"Nhập kho"},{code:"Exported",name:"Xuất kho"},{code:"Created",name:"Tạo bao"}],SelectActionType:[]}},methods:{onSelect:function(e){if(this.multiple){var t=[];if(this.SelectActionType.length>0)for(var a=0;a<this.SelectActionType.length;a++)t.push(this.SelectActionType[a].code);t.push(e.code),this.$emit("selected",t)}else this.SelectActionType=e.code,this.$emit("selected",this.SelectActionType)},onRemove:function(e){var t=[];if(this.multiple){for(var a=0;a<this.SelectActionType.length;a++)this.SelectActionType[a].code!==e.code&&t.push(this.SelectActionType[a].code);this.$emit("selected",t)}},reset:function(){this.SelectActionType=this.multiple?[]:"",this.$emit("selected",this.SelectActionType)}}};var T=function(e){a("9u98")},v=Object(c.a)(f,function(){var e=this,t=e.$createElement;return(e._self._c||t)("multiselect",{attrs:{options:e.types,multiple:e.multiple,placeholder:e.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:e.onSelect,remove:e.onRemove},model:{value:e.SelectActionType,callback:function(t){e.SelectActionType=t},expression:"SelectActionType"}})},[],!1,T,"data-v-3e48306e",null).exports,g=a("QKlT"),S=a.n(g),b=a("PikB"),C={getExternalDataFromImpala:function(e){return b.a.get("AdDashboardExternal/getExternalDataFromImapala",{params:e})}},_=a("m4Ev"),x={name:"overview-external",components:{"vue-echart":s.a,SingleSelectTypeChart:r,SelectBagType:h,SelectTransportType:y,SelectActionType:v,flatPickr:S.a,dashboardExternal:C,SelectExternalStations:_.a},data:function(){return{selectedStation:"",selectedTypeChart:"",selectedBagType:"",selectedTransportType:"",selectedActionType:"",startDateTime:"",endDateTime:"",dataCharts:{title:{text:"Tong Quan Lien Vung"},tooltip:{trigger:"axis"},legend:{data:["Ha Noi","Ho Chi Minh","Da Nang","Mien Bac","Mien Trung","Mien Nam"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},series:[]}}},methods:{setSelectedStation:function(e){this.selectedStation=e},setSelectedTypeChart:function(e){this.selectedTypeChart=e},setSelectedBagType:function(e){this.selectedBagType=e},setSelectedTransportType:function(e){this.selectedTransportType=e},setSelectedActionType:function(e){this.selectedActionType=e},getExternalDataFromImpala:function(){var e=this;if(this.selectedTypeChart&&this.selectedBagType&&this.selectedTransportType&&this.selectedStation&&this.selectedActionType&&this.startDateTime&&this.endDateTime){var t={type_chart:this.selectedTypeChart,bag_type:this.selectedBagType,transport_type:this.selectedTransportType,station_ids:this.selectedStation,action_type:this.selectedActionType,start_date_time:this.startDateTime,end_date_time:this.endDateTime};this.$startLoading(),C.getExternalDataFromImpala(t).then(function(t){t.data.success?(e.dataCharts.xAxis.data=t.data.data.xAxis,e.dataCharts.series=t.data.data.series):e.success=!1}).then(function(){e.$stopLoading()}).catch(function(e){console.log(e)})}},resetForm:function(){this.$refs.select_type_chart.reset(),this.$refs.select_bag_type.reset(),this.$refs.select_transport_type.reset(),this.$refs.select_stations.reset()}}};var k=function(e){a("OEkN"),a("5vfP")},B=Object(c.a)(x,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",{staticClass:"ui-block-heading"},[e._v("\n      Tổng quan sản lượng Liên vùng\n    ")]),e._v(" "),a("div",{staticClass:"overview-external-form"},[a("form",[a("b-form-row",[a("b-form-group",{staticClass:"col-md-2",attrs:{label:"Chọn cách hiển thị"}},[a("single-select-type-chart",{ref:"select_type_chart",attrs:{multiple:!1,placehoder:"Chọn cách hiển thị"},on:{selected:e.setSelectedTypeChart}})],1),e._v(" "),a("b-form-group",{staticClass:"col-md-2",attrs:{label:"Chọn kiểu bao"}},[a("select-bag-type",{ref:"select_bag_type",attrs:{multiple:!0,placehoder:"Chọn kiểu bao"},on:{selected:e.setSelectedBagType}})],1),e._v(" "),a("b-form-group",{staticClass:"col-md-2",attrs:{label:"Chọn kiểu vận chuyển"}},[a("select-transport-type",{ref:"select_transport_type",attrs:{multiple:!0,placehoder:"Chọn kiểu vận chuyển"},on:{selected:e.setSelectedTransportType}})],1),e._v(" "),a("b-form-group",{staticClass:"col-md-6",attrs:{label:"Chọn kho"}},[a("select-external-stations",{ref:"select_external_stations",attrs:{multiple:!0,placehoder:"Nhập kho cần tìm kiếm"},on:{selected:e.setSelectedStation}})],1)],1),e._v(" "),a("b-form-row",[a("div",{staticClass:"col-md mb-3"},[a("label",{staticClass:"form-label d-none d-md-block"},[e._v("Chọn mốc ")]),e._v(" "),a("select-action-type",{ref:"select_action_type",attrs:{multiple:!1,placehoder:"Nhập Action"},on:{selected:e.setSelectedActionType}})],1),e._v(" "),a("div",{staticClass:"col-md mb-3"},[a("label",{staticClass:"form-label d-none d-md-block"},[e._v("Chọn Ngày Bắt Đầu ")]),e._v(" "),a("flat-pickr",{attrs:{config:{altInput:!0,animate:!1,enableTime:!0,dateFormat:"Y-m-d H:i"},placeholder:"Chọn ngày"},model:{value:e.startDateTime,callback:function(t){e.startDateTime=t},expression:"startDateTime"}})],1),e._v(" "),a("div",{staticClass:"col-md mb-3"},[a("label",{staticClass:"form-label d-none d-md-block"},[e._v("Chọn Ngày Kết Thúc ")]),e._v(" "),a("flat-pickr",{attrs:{config:{altInput:!0,animate:!1,enableTime:!0,dateFormat:"Y-m-d H:i"},placeholder:"Chọn ngày"},model:{value:e.endDateTime,callback:function(t){e.endDateTime=t},expression:"endDateTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 text-right"},[a("b-form-group",[a("label",{staticClass:"form-label"},[e._v(" ")]),e._v(" "),a("div",{staticClass:"align-content-center center"},[a("b-btn",{attrs:{type:"button",variant:"primary"},on:{click:e.getExternalDataFromImpala}},[a("i",{staticClass:"sidenav-icon ion ion-md-search"}),e._v(" Tìm kiếm")]),e._v(" "),a("b-btn",{attrs:{type:"reset",variant:"default"},on:{click:e.resetForm}},[a("i",{staticClass:"sidenav-icon ion ion-md-sync"}),e._v("Nhập lại")])],1)])],1)])],1)]),e._v(" "),a("b-card",{staticClass:"card-height"},[a("vue-echart",{staticClass:"w-100 h-100",attrs:{options:e.dataCharts,"auto-resize":!0}})],1)],1)},[],!1,k,"data-v-a5b81c1c",null);t.default=B.exports},FQTN:function(e,t){},m4Ev:function(e,t,a){"use strict";var s=a("RUzx"),l=a.n(s),n=a("agCp"),i={name:"select-external-stations",props:{disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},placeholder:{type:String,default:"Chọn kho"}},components:{Multiselect:l.a},data:function(){return{stations:[],selectedStations:[]}},methods:{getOptions:function(){var e=this;n.a.getListExternalStation().then(function(t){t.data.success&&(e.stations=t.data.data.stations,e.multiple||e.stations.unshift({code:"",name:e.placeholder}))}).catch(function(e){})},onSelect:function(e,t){if(this.multiple){var a=[];if(this.selectedStations.length>0)for(var s=0;s<this.selectedStations.length;s++)a.push(this.selectedStations[s].code);a.push(e.code),this.$emit("selected",a)}else this.selectedStations=e.code,this.$emit("selected",this.selectedStations)},onRemove:function(e){var t=[];if(this.multiple){for(var a=0;a<this.selectedStations.length;a++)this.selectedStations[a].code!==e.code&&t.push(this.selectedStations[a].code);this.$emit("selected",t)}},reset:function(){this.selectedStations=this.multiple?[]:""}},created:function(){this.getOptions()}},c=a("XyMi");var o=function(e){a("xM8J")},r=Object(c.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("multiselect",{attrs:{options:e.stations,multiple:e.multiple,disabled:e.disabled,placeholder:e.placeholder,"track-by":"name",label:"name",selectLabel:"",selectedLabel:"",deselectLabel:"x"},on:{select:e.onSelect,remove:e.onRemove},model:{value:e.selectedStations,callback:function(t){e.selectedStations=t},expression:"selectedStations"}})},[],!1,o,"data-v-612eea24",null);t.a=r.exports},vE07:function(e,t){},xM8J:function(e,t){}});